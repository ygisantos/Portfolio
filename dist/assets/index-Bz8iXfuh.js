(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function i2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function r2(){if(zv)return wl;zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var Bv;function s2(){return Bv||(Bv=1,Hd.exports=r2()),Hd.exports}var w=s2(),qd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function a2(){if(Hv)return Re;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Z={};function q(k,ne,ue){this.props=k,this.context=ne,this.refs=Z,this.updater=ue||P}q.prototype.isReactComponent={},q.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function te(k,ne,ue){this.props=k,this.context=ne,this.refs=Z,this.updater=ue||P}var Q=te.prototype=new Y;Q.constructor=te,z(Q,q.prototype),Q.isPureReactComponent=!0;var le=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function M(k,ne,ue,re,ge,xe){return ue=xe.ref,{$$typeof:r,type:k,key:ne,ref:ue!==void 0?ue:null,props:xe}}function b(k,ne){return M(k.type,ne,void 0,void 0,void 0,k.props)}function A(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function I(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return ne[ue]})}var R=/\/+/g;function O(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):ne.toString(36)}function N(){}function rt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Qe(k,ne,ue,re,ge){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case r:case e:we=!0;break;case E:return we=k._init,Qe(we(k._payload),ne,ue,re,ge)}}if(we)return ge=ge(k),we=re===""?"."+O(k,0):re,le(ge)?(ue="",we!=null&&(ue=we.replace(R,"$&/")+"/"),Qe(ge,ne,ue,"",function(Hn){return Hn})):ge!=null&&(A(ge)&&(ge=b(ge,ue+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var It=re===""?".":re+":";if(le(k))for(var Je=0;Je<k.length;Je++)re=k[Je],xe=It+O(re,Je),we+=Qe(re,ne,ue,xe,ge);else if(Je=x(k),typeof Je=="function")for(k=Je.call(k),Je=0;!(re=k.next()).done;)re=re.value,xe=It+O(re,Je++),we+=Qe(re,ne,ue,xe,ge);else if(xe==="object"){if(typeof k.then=="function")return Qe(rt(k),ne,ue,re,ge);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(k,ne,ue){if(k==null)return k;var re=[],ge=0;return Qe(k,re,"","",function(xe){return ne.call(ue,xe,ge++)}),re}function oe(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Re.Children={map:$,forEach:function(k,ne,ue){$(k,function(){ne.apply(this,arguments)},ue)},count:function(k){var ne=0;return $(k,function(){ne++}),ne},toArray:function(k){return $(k,function(ne){return ne})||[]},only:function(k){if(!A(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ae.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,ne,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var re=z({},k.props),ge=k.key,xe=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ce.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(re[we]=ne[we]);var we=arguments.length-2;if(we===1)re.children=ue;else if(1<we){for(var It=Array(we),Je=0;Je<we;Je++)It[Je]=arguments[Je+2];re.children=It}return M(k.type,ge,void 0,void 0,xe,re)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,ne,ue){var re,ge={},xe=null;if(ne!=null)for(re in ne.key!==void 0&&(xe=""+ne.key),ne)ce.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ne[re]);var we=arguments.length-2;if(we===1)ge.children=ue;else if(1<we){for(var It=Array(we),Je=0;Je<we;Je++)It[Je]=arguments[Je+2];ge.children=It}if(k&&k.defaultProps)for(re in we=k.defaultProps,we)ge[re]===void 0&&(ge[re]=we[re]);return M(k,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=A,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:oe}},Re.memo=function(k,ne){return{$$typeof:y,type:k,compare:ne===void 0?null:ne}},Re.startTransition=function(k){var ne=ae.T,ue={};ae.T=ue;try{var re=k(),ge=ae.S;ge!==null&&ge(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,pe)}catch(xe){pe(xe)}finally{ae.T=ne}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(k){return ae.H.use(k)},Re.useActionState=function(k,ne,ue){return ae.H.useActionState(k,ne,ue)},Re.useCallback=function(k,ne){return ae.H.useCallback(k,ne)},Re.useContext=function(k){return ae.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,ne){return ae.H.useDeferredValue(k,ne)},Re.useEffect=function(k,ne,ue){var re=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(k,ne)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(k,ne,ue){return ae.H.useImperativeHandle(k,ne,ue)},Re.useInsertionEffect=function(k,ne){return ae.H.useInsertionEffect(k,ne)},Re.useLayoutEffect=function(k,ne){return ae.H.useLayoutEffect(k,ne)},Re.useMemo=function(k,ne){return ae.H.useMemo(k,ne)},Re.useOptimistic=function(k,ne){return ae.H.useOptimistic(k,ne)},Re.useReducer=function(k,ne,ue){return ae.H.useReducer(k,ne,ue)},Re.useRef=function(k){return ae.H.useRef(k)},Re.useState=function(k){return ae.H.useState(k)},Re.useSyncExternalStore=function(k,ne,ue){return ae.H.useSyncExternalStore(k,ne,ue)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var qv;function km(){return qv||(qv=1,qd.exports=a2()),qd.exports}var K=km();const ai=i2(K);var Fd={exports:{}},Sl={},Gd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function o2(){return Fv||(Fv=1,function(r){function e($,oe){var pe=$.length;$.push(oe);e:for(;0<pe;){var ze=pe-1>>>1,k=$[ze];if(0<o(k,oe))$[ze]=oe,$[pe]=k,pe=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],pe=$.pop();if(pe!==oe){$[0]=pe;e:for(var ze=0,k=$.length,ne=k>>>1;ze<ne;){var ue=2*(ze+1)-1,re=$[ue],ge=ue+1,xe=$[ge];if(0>o(re,pe))ge<k&&0>o(xe,re)?($[ze]=xe,$[ge]=pe,ze=ge):($[ze]=re,$[ue]=pe,ze=ue);else if(ge<k&&0>o(xe,pe))$[ze]=xe,$[ge]=pe,ze=ge;else break e}}return oe}function o($,oe){var pe=$.sortIndex-oe.sortIndex;return pe!==0?pe:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,C=null,x=3,P=!1,z=!1,Z=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le($){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=$)s(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function ae($){if(Z=!1,le($),!z)if(n(p)!==null)z=!0,ce||(ce=!0,O());else{var oe=n(y);oe!==null&&Qe(ae,oe.startTime-$)}}var ce=!1,M=-1,b=5,A=-1;function I(){return q?!0:!(r.unstable_now()-A<b)}function R(){if(q=!1,ce){var $=r.unstable_now();A=$;var oe=!0;try{e:{z=!1,Z&&(Z=!1,te(M),M=-1),P=!0;var pe=x;try{t:{for(le($),C=n(p);C!==null&&!(C.expirationTime>$&&I());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,x=C.priorityLevel;var k=ze(C.expirationTime<=$);if($=r.unstable_now(),typeof k=="function"){C.callback=k,le($),oe=!0;break t}C===n(p)&&s(p),le($)}else s(p);C=n(p)}if(C!==null)oe=!0;else{var ne=n(y);ne!==null&&Qe(ae,ne.startTime-$),oe=!1}}break e}finally{C=null,x=pe,P=!1}oe=void 0}}finally{oe?O():ce=!1}}}var O;if(typeof Q=="function")O=function(){Q(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=R,O=function(){rt.postMessage(null)}}else O=function(){Y(R,0)};function Qe($,oe){M=Y(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function($){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var pe=x;x=oe;try{return $()}finally{x=pe}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=x;x=$;try{return oe()}finally{x=pe}},r.unstable_scheduleCallback=function($,oe,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,$={id:E++,callback:oe,priorityLevel:$,startTime:pe,expirationTime:k,sortIndex:-1},pe>ze?($.sortIndex=pe,e(y,$),n(p)===null&&$===n(y)&&(Z?(te(M),M=-1):Z=!0,Qe(ae,pe-ze))):($.sortIndex=k,e(p,$),z||P||(z=!0,ce||(ce=!0,O()))),$},r.unstable_shouldYield=I,r.unstable_wrapCallback=function($){var oe=x;return function(){var pe=x;x=oe;try{return $.apply(this,arguments)}finally{x=pe}}}}(Kd)),Kd}var Gv;function l2(){return Gv||(Gv=1,Gd.exports=o2()),Gd.exports}var Qd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function u2(){if(Kv)return Gt;Kv=1;var r=km();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,C=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:C,integrity:x,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,C=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var Qv;function c2(){if(Qv)return Qd.exports;Qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=u2(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function h2(){if(Yv)return Sl;Yv=1;var r=l2(),e=km(),n=c2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case q:return"Profiler";case Z:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Qe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function ne(t){return{current:t}}function ue(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function re(t,i){k++,ze[k]=t.current,t.current=i}var ge=ne(null),xe=ne(null),we=ne(null),It=ne(null);function Je(t,i){switch(re(we,i),re(xe,t),re(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=mv(i),t=pv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ge),re(ge,t)}function Hn(){ue(ge),ue(xe),ue(we)}function er(t){t.memoizedState!==null&&re(It,t);var i=ge.current,a=pv(i,t.type);i!==a&&(re(xe,t),re(ge,a))}function yi(t){xe.current===t&&(ue(ge),ue(xe)),It.current===t&&(ue(It),vl._currentValue=pe)}var Wr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,po=r.unstable_shouldYield,lu=r.unstable_requestPaint,yn=r.unstable_now,Bh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,yo=r.log,uu=r.unstable_setDisableYieldValue,lt=null,Fe=null;function an(t){if(typeof yo=="function"&&uu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var qt=Math.clz32?Math.clz32:ts,cu=Math.log,qh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(cu(t)/qh|0)|0}var ns=256,is=4194304;function Dn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $s(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Dn(l):(_&=T,_!==0?h=Dn(_):a||(a=T&~t,a!==0&&(h=Dn(a))))):(T=l&~d,T!==0?h=Dn(T):_!==0?h=Dn(_):a||(a=l&~t,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function Eo(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function To(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-qt(a),J=1<<X;T[X]=0,D[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&qn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function qn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:kv(t.type))}function hu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,pt="__reactProps$"+tt,vn="__reactContainer$"+tt,wo="__reactEvents$"+tt,Fh="__reactListeners$"+tt,ir="__reactHandles$"+tt,fu="__reactResources$"+tt,ss="__reactMarker$"+tt;function rr(t){delete t[Et],delete t[pt],delete t[wo],delete t[Fh],delete t[ir]}function Ei(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vn]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[Et])return a;t=_v(t)}return i}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[Et]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[fu];return i||(i=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ss]=!0}var So=new Set,Ws={};function On(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ws[t]=i,t=0;t<i.length;t++)So.add(i[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},as={};function pu(t){return Wr.call(as,t)?!0:Wr.call(mu,t)?!1:du.test(t)?as[t]=!0:(mu[t]=!0,!1)}function sr(t,i,a){if(pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Kn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var os,gu;function bi(t){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",gu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+gu}var Zs=!1;function Js(t,i){if(!t||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){H=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function Ao(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return bi("Activity");default:return""}}function ea(t){try{var i="";do i+=Ao(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ro(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t){var i=Ro(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ta(t){t._valueTracker||(t._valueTracker=Gh(t))}function Co(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ro(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kh=/[\n"\\]/g;function gt(t){return t.replace(Kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ar(t,_,Zt(i)):a!=null?ar(t,_,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function us(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ar(t,i,a){i==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Io(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&yu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&yu(t,d,i[d])}function xo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return Yh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Ri=null;function No(t){var i=Fn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(on(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Co(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wi(t,!!a.multiple,i,!1)}}}var Qn=!1;function vu(t,i,a){if(Qn)return t(i,a);Qn=!0;try{var l=t(i);return l}finally{if(Qn=!1,(Ai!==null||Ri!==null)&&(hc(),Ai&&(i=Ai,t=Ri,Ri=Ai=null,No(i),t)))for(i=0;i<t.length;i++)No(t[i])}}function fs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Mn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Tn=!1}var Yn=null,or=null,Ci=null;function Do(){if(Ci)return Ci;var t,i=or,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ci=h.slice(t,1<l?1-l:void 0)}function $n(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function Oo(){return!1}function xt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:Oo,this.isPropagationStopped=Oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=xt(He),ms=E({},He,{view:0,detail:0}),_u=xt(ms),ra,sa,Wn,ps=E({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(ra=t.screenX-Wn.screenX,sa=t.screenY-Wn.screenY):sa=ra=0,Wn=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),bn=xt(ps),Eu=E({},ps,{dataTransfer:0}),$h=xt(Eu),gs=E({},ms,{relatedTarget:0}),aa=xt(gs),Mo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=xt(Mo),Tu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),la=xt(Tu),Xh=E({},He,{data:0}),ko=xt(Xh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function vs(){return Vo}var Su=E({},ms,{key:function(t){if(t.key){var i=ys[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ua=xt(Su),Au=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=xt(Au),Ii=E({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Ru=xt(Ii),Cu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iu=xt(Cu),xu=E({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=xt(xu),Jt=E({},He,{newState:0,oldState:0}),Nu=xt(Jt),Du=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var g=Mn&&"TextEvent"in window&&!c,v=Mn&&(!Zn||c&&8<c&&11>=c),S=" ",U=!1;function G(t,i){switch(t){case"keyup":return Du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Tt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return t=i.data,t===S&&U?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!Zn&&G(t,i)?(t=Do(),Ci=or=Yn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function xi(t,i,a,l){Ai?Ri?Ri.push(l):Ri=[l]:Ai=l,i=yc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,Jn=null;function Lo(t){uv(t,0)}function Ou(t){var i=Gn(t);if(Co(i))return t}function Np(t,i){if(t==="change")return i}var Dp=!1;if(Mn){var Wh;if(Mn){var Zh="oninput"in document;if(!Zh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Zh=typeof Op.oninput=="function"}Wh=Zh}else Wh=!1;Dp=Wh&&(!document.documentMode||9<document.documentMode)}function Mp(){Pt&&(Pt.detachEvent("onpropertychange",kp),Jn=Pt=null)}function kp(t){if(t.propertyName==="value"&&Ou(Jn)){var i=[];xi(i,Jn,t,En(t)),vu(Lo,i)}}function Mb(t,i,a){t==="focusin"?(Mp(),Pt=i,Jn=a,Pt.attachEvent("onpropertychange",kp)):t==="focusout"&&Mp()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Jn)}function Vb(t,i){if(t==="click")return Ou(i)}function Pb(t,i){if(t==="input"||t==="change")return Ou(i)}function Lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ln=typeof Object.is=="function"?Object.is:Lb;function Uo(t,i){if(ln(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wr.call(i,h)||!ln(t[h],i[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,i){var a=Vp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ls(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ls(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ub=Mn&&"documentMode"in document&&11>=document.documentMode,ha=null,ef=null,jo=null,tf=!1;function jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||ha==null||ha!==ls(l)||(l=ha,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jo&&Uo(jo,l)||(jo=l,l=yc(ef,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ha)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var fa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},nf={},zp={};Mn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Es(t){if(nf[t])return nf[t];if(!fa[t])return t;var i=fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zp)return nf[t]=i[a];return t}var Bp=Es("animationend"),Hp=Es("animationiteration"),qp=Es("animationstart"),jb=Es("transitionrun"),zb=Es("transitionstart"),Bb=Es("transitioncancel"),Fp=Es("transitionend"),Gp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function kn(t,i){Gp.set(t,i),On(i,[t])}var Kp=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ea(i)},Kp.set(t,i),i)}return{value:t,source:i,stack:ea(i)}}var Sn=[],da=0,sf=0;function Mu(){for(var t=da,i=sf=da=0;i<t;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Qp(a,h,d)}}function ku(t,i,a,l){Sn[da++]=t,Sn[da++]=i,Sn[da++]=a,Sn[da++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function af(t,i,a,l){return ku(t,i,a,l),Vu(t)}function ma(t,i){return ku(t,null,null,i),Vu(t)}function Qp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Vu(t){if(50<cl)throw cl=0,fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var pa={};function Hb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,i,a,l){return new Hb(t,i,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=un(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")of(t)&&(_=1);else if(typeof t=="string")_=F1(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=un(31,a,i,h),t.elementType=A,t.lanes=d,t;case z:return Ts(a.children,h,d,i);case Z:_=8,h|=24;break;case q:return t=un(12,a,i,h|2),t.elementType=q,t.lanes=d,t;case ae:return t=un(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ce:return t=un(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case Q:_=10;break e;case te:_=9;break e;case le:_=11;break e;case M:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=un(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ts(t,i,a,l){return t=un(7,t,l,i),t.lanes=a,t}function lf(t,i,a){return t=un(6,t,null,i),t.lanes=a,t}function uf(t,i,a){return i=un(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ga=[],ya=0,Lu=null,Uu=0,An=[],Rn=0,bs=null,Di=1,Oi="";function ws(t,i){ga[ya++]=Uu,ga[ya++]=Lu,Lu=t,Uu=i}function $p(t,i,a){An[Rn++]=Di,An[Rn++]=Oi,An[Rn++]=bs,bs=t;var l=Di;t=Oi;var h=32-qt(l)-1;l&=~(1<<h),a+=1;var d=32-qt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Di=1<<32-qt(i)+h|a<<h|l,Oi=d+t}else Di=1<<d|a<<h|l,Oi=t}function cf(t){t.return!==null&&(ws(t,1),$p(t,1,0))}function hf(t){for(;t===Lu;)Lu=ga[--ya],ga[ya]=null,Uu=ga[--ya],ga[ya]=null;for(;t===bs;)bs=An[--Rn],An[Rn]=null,Oi=An[--Rn],An[Rn]=null,Di=An[--Rn],An[Rn]=null}var en=null,ut=null,Be=!1,Ss=null,ei=!1,ff=Error(s(519));function As(t){var i=Error(s(418,""));throw Ho(wn(i,t)),ff}function Xp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[pt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Oe(fl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ta(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),cs(i,l.value,l.defaultValue,l.children),ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||dv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=vc),i=!0):i=!1,i||As(t)}function Wp(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:en=en.return}}function zo(t){if(t!==en)return!1;if(!Be)return Wp(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Id(t.type,t.memoizedProps)),a=!a),a&&ut&&As(t),Wp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Pn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,wr(t.type)?(t=Od,Od=null,ut=t):ut=i):ut=en?Pn(t.stateNode.nextSibling):null;return!0}function Bo(){ut=en=null,Be=!1}function Zp(){var t=Ss;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ss=null),t}function Ho(t){Ss===null?Ss=[t]:Ss.push(t)}var df=ne(null),Rs=null,Mi=null;function lr(t,i,a){re(df,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=df.current,ue(df)}function mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),mf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),mf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;ln(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&pf(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Rs=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Jp(Rs,t)}function zu(t,i){return Rs===null&&Cs(t),Jp(t,i)}function Jp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var qb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Fb=r.unstable_scheduleCallback,Gb=r.unstable_NormalPriority,wt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new qb,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&Fb(Gb,function(){t.controller.abort()})}var Go=null,yf=0,va=0,_a=null;function Kb(t,i){if(Go===null){var a=Go=[];yf=0,va=_d(),_a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(eg,eg),i}function eg(){if(--yf===0&&Go!==null){_a!==null&&(_a.status="fulfilled");var t=Go;Go=null,va=0,_a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Qb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var tg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Kb(t,i),tg!==null&&tg(t,i)};var Is=ne(null);function vf(){var t=Is.current;return t!==null?t:et.pooledCache}function Bu(t,i){i===null?re(Is,Is.current):re(Is,i.pool)}function ng(){var t=vf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ko=Error(s(460)),ig=Error(s(474)),Hu=Error(s(542)),_f={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function sg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t;default:if(typeof i.status=="string")i.then(qu,qu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t}throw Qo=i,Ko}}var Qo=null;function ag(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function og(t){if(t===Ko||t===Hu)throw Error(s(483))}var ur=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Vu(t),Qp(t,null,a),i}return ku(t,l,i,a),Vu(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}function bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function $o(){if(wf){var t=_a;if(t!==null)throw t}}function Xo(t,i,a,l){wf=!1;var h=t.updateQueue;ur=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=D))}if(d!==null){var J=h.baseState;_=0,X=B=D=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===va&&(wf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ve=T;H=i;var We=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){J=Te.call(We,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,H=typeof Te=="function"?Te.call(We,J,H):Te,H==null)break e;J=E({},J,H);break e;case 2:ur=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=F,D=J):X=X.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(D=J),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),_r|=_,t.lanes=_,t.memoizedState=J}}function lg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ug(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lg(a[t],i)}var Ea=ne(null),Fu=ne(0);function cg(t,i){t=Bi,re(Fu,t),re(Ea,i),Bi=t|i.baseLanes}function Sf(){re(Fu,Bi),re(Ea,Ea.current)}function Af(){Bi=Fu.current,ue(Ea),ue(Fu)}var fr=0,Ce=null,$e=null,yt=null,Gu=!1,Ta=!1,xs=!1,Ku=0,Wo=0,ba=null,Yb=0;function ft(){throw Error(s(321))}function Rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ln(t[a],i[a]))return!1;return!0}function Cf(t,i,a,l,h,d){return fr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Qg:Yg,xs=!1,d=a(l,h),xs=!1,Ta&&(d=fg(i,a,l,h)),hg(t),d}function hg(t){$.H=Zu;var i=$e!==null&&$e.next!==null;if(fr=0,yt=$e=Ce=null,Gu=!1,Wo=0,ba=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&ju(t)&&(Dt=!0))}function fg(t,i,a,l){Ce=t;var h=0;do{if(Ta&&(ba=null),Wo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,yt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=t1,d=i(a,l)}while(Ta);return d}function $b(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),i}function If(){var t=Ku!==0;return Ku=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Gu=!1}fr=0,yt=$e=Ce=null,Ta=!1,Wo=Ku=0,ba=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,$e=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Wo;return Wo+=1,ba===null&&(ba=[]),t=sg(ba,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Qg:Yg),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===Q)return Ft(t)}throw Error(s(438,String(t)))}function Of(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Df(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=I;return i.index++,a}function Vi(t,i){return typeof i=="function"?i(t):i}function Yu(t){var i=vt();return Mf(i,$e,t)}function Mf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,B=i,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(fr&J)===J){var H=B.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===va&&(X=!0);else if((fr&H)===H){B=B.next,H===va&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=J,_=d):D=D.next=J,Ce.lanes|=H,_r|=H;J=B.action,xs&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=H,_=d):D=D.next=H,Ce.lanes|=J,_r|=J;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!ln(d,t.memoizedState)&&(Dt=!0,X&&(a=_a,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);ln(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dg(t,i,a){var l=Ce,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!ln(($e||h).memoizedState,a);_&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=gg.bind(null,l,h,t);if(Jo(2048,8,T,[t]),h.getSnapshot!==i||_||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,wa(9,$u(),pg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(fr&124)!==0||mg(l,i,a)}return a}function mg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Df(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function pg(t,i,a,l){i.value=a,i.getSnapshot=l,yg(i)&&vg(t)}function gg(t,i,a){return a(function(){yg(i)&&vg(t)})}function yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ln(t,a)}catch{return!0}}function vg(t){var i=ma(t,2);i!==null&&mn(i,t,2)}function Vf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),xs){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function _g(t,i,a,l){return t.baseState=a,Mf(t,$e,typeof l=="function"?l:Vi)}function Xb(t,i,a,l,h){if(Wu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Eg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var T=a(h,l),D=$.S;D!==null&&D(_,T),Tg(t,i,T)}catch(B){Pf(t,i,B)}finally{$.T=d}}else try{d=a(h,l),Tg(t,i,d)}catch(B){Pf(t,i,B)}}function Tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bg(t,i,l)},function(l){return Pf(t,i,l)}):bg(t,i,a)}function bg(t,i,a){i.status="fulfilled",i.value=a,wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Eg(t,a)))}function Pf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wg(i),i=i.next;while(i!==l)}t.action=null}function wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sg(t,i){return i}function Ag(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ce;if(Be){if(ut){t:{for(var h=ut,d=ei;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Pn(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:i},a.queue=l,a=Fg.bind(null,Ce,l),l.dispatch=a,l=Vf(!1),d=Bf.bind(null,Ce,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Xb.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Rg(t){var i=vt();return Cg(i,$e,t)}function Cg(t,i,a){if(i=Mf(t,i,Sg)[0],t=Yu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(_){throw _===Ko?Hu:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,wa(9,$u(),Wb.bind(null,h,a),null)),[l,d,t]}function Wb(t,i){t.action=i}function Ig(t){var i=vt(),a=$e;if(a!==null)return Cg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Df(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function $u(){return{destroy:void 0,resource:void 0}}function xg(){return vt().memoizedState}function Xu(t,i,a,l){var h=tn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=wa(1|i,$u(),a,l)}function Jo(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Rf(l,$e.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(Ce.flags|=t,h.memoizedState=wa(1|i,d,a,l))}function Ng(t,i){Xu(8390656,8,t,i)}function Dg(t,i){Jo(2048,8,t,i)}function Og(t,i){return Jo(4,2,t,i)}function Mg(t,i){return Jo(4,4,t,i)}function kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vg(t,i,a){a=a!=null?a.concat([t]):null,Jo(4,4,kg.bind(null,i,t),a)}function Lf(){}function Pg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Lg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rf(i,l[1]))return l[0];if(l=t(),xs){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,i],l}function Uf(t,i,a){return a===void 0||(fr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=zy(),Ce.lanes|=t,_r|=t,a)}function Ug(t,i,a,l){return ln(a,i)?a:Ea.current!==null?(t=Uf(t,a,l),ln(t,i)||(Dt=!0),t):(fr&42)===0?(Dt=!0,t.memoizedState=a):(t=zy(),Ce.lanes|=t,_r|=t,i)}function jg(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=$.T,T={};$.T=T,Bf(t,!1,i,a);try{var D=h(),B=$.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Qb(D,l);el(t,i,X,dn(t))}else el(t,i,l,dn(t))}catch(J){el(t,i,{then:function(){},status:"rejected",reason:J},dn())}finally{oe.p=d,$.T=_}}function Zb(){}function jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=zg(t).queue;jg(t,h,i,pe,a===null?Zb:function(){return Bg(t),a(l)})}function zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Bg(t){var i=zg(t).next.queue;el(t,i,{},dn())}function zf(){return Ft(vl)}function Hg(){return vt().memoizedState}function qg(){return vt().memoizedState}function Jb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();t=cr(a);var l=hr(i,t,a);l!==null&&(mn(l,i,a),Yo(l,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function e1(t,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Gg(i,a):(a=af(t,i,a,l),a!==null&&(mn(a,t,l),Kg(a,i,l)))}function Fg(t,i,a){var l=dn();el(t,i,a,l)}function el(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Gg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,_))return ku(t,i,h,0),et===null&&Mu(),!1}catch{}finally{}if(a=af(t,i,h,l),a!==null)return mn(a,t,l),Kg(a,i,l),!0}return!1}function Bf(t,i,a,l){if(l={lane:2,revertLane:_d(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(i)throw Error(s(479))}else i=af(t,a,l,2),i!==null&&mn(i,t,2)}function Wu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Gg(t,i){Ta=Gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Kg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}var Zu={readContext:Ft,use:Qu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Qg={readContext:Ft,use:Qu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Ng,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Xu(4194308,4,t,i)},useInsertionEffect:function(t,i){Xu(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(xs){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(xs){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=e1.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=Fg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=tn();return Uf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=jg.bind(null,Ce,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=tn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ng(gg.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,$u(),pg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=et.identifierPrefix;if(Be){var a=Oi,l=Di;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Yb++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:zf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return tn().memoizedState=Jb.bind(null,Ce)}},Yg={readContext:Ft,use:Qu,useCallback:Pg,useContext:Ft,useEffect:Dg,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:Yu,useRef:xg,useState:function(){return Yu(Vi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=vt();return Ug(a,$e.memoizedState,t,i)},useTransition:function(){var t=Yu(Vi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:zf,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,i){var a=vt();return _g(a,$e,t,i)},useMemoCache:Of,useCacheRefresh:qg},t1={readContext:Ft,use:Qu,useCallback:Pg,useContext:Ft,useEffect:Dg,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:kf,useRef:xg,useState:function(){return kf(Vi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=vt();return $e===null?Uf(a,t,i):Ug(a,$e.memoizedState,t,i)},useTransition:function(){var t=kf(Vi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:zf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var a=vt();return $e!==null?_g(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:qg},Sa=null,tl=0;function Ju(t){var i=tl;return tl+=1,Sa===null&&(Sa=[]),sg(Sa,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $g(t){var i=t._init;return i(t._payload)}function Xg(t){function i(L,V){if(t){var j=L.deletions;j===null?(L.deletions=[V],L.flags|=16):j.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Ni(L,V),L.index=0,L.sibling=null,L}function d(L,V,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<V?(L.flags|=67108866,V):j):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,j,W){return V===null||V.tag!==6?(V=lf(j,L.mode,W),V.return=L,V):(V=h(V,j),V.return=L,V)}function D(L,V,j,W){var fe=j.type;return fe===z?X(L,V,j.props.children,W,j.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&$g(fe)===V.type)?(V=h(V,j.props),nl(V,j),V.return=L,V):(V=Pu(j.type,j.key,j.props,null,L.mode,W),nl(V,j),V.return=L,V)}function B(L,V,j,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=uf(j,L.mode,W),V.return=L,V):(V=h(V,j.children||[]),V.return=L,V)}function X(L,V,j,W,fe){return V===null||V.tag!==7?(V=Ts(j,L.mode,W,fe),V.return=L,V):(V=h(V,j),V.return=L,V)}function J(L,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=lf(""+V,L.mode,j),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return j=Pu(V.type,V.key,V.props,null,L.mode,j),nl(j,V),j.return=L,j;case P:return V=uf(V,L.mode,j),V.return=L,V;case b:var W=V._init;return V=W(V._payload),J(L,V,j)}if(Qe(V)||O(V))return V=Ts(V,L.mode,j,null),V.return=L,V;if(typeof V.then=="function")return J(L,Ju(V),j);if(V.$$typeof===Q)return J(L,zu(L,V),j);ec(L,V)}return null}function H(L,V,j,W){var fe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:T(L,V,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return j.key===fe?D(L,V,j,W):null;case P:return j.key===fe?B(L,V,j,W):null;case b:return fe=j._init,j=fe(j._payload),H(L,V,j,W)}if(Qe(j)||O(j))return fe!==null?null:X(L,V,j,W,null);if(typeof j.then=="function")return H(L,V,Ju(j),W);if(j.$$typeof===Q)return H(L,V,zu(L,j),W);ec(L,j)}return null}function F(L,V,j,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(j)||null,T(V,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return L=L.get(W.key===null?j:W.key)||null,D(V,L,W,fe);case P:return L=L.get(W.key===null?j:W.key)||null,B(V,L,W,fe);case b:var Ne=W._init;return W=Ne(W._payload),F(L,V,j,W,fe)}if(Qe(W)||O(W))return L=L.get(j)||null,X(V,L,W,fe,null);if(typeof W.then=="function")return F(L,V,j,Ju(W),fe);if(W.$$typeof===Q)return F(L,V,j,zu(V,W),fe);ec(V,W)}return null}function Te(L,V,j,W){for(var fe=null,Ne=null,de=V,_e=V=0,Mt=null;de!==null&&_e<j.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var je=H(L,de,j[_e],W);if(je===null){de===null&&(de=Mt);break}t&&de&&je.alternate===null&&i(L,de),V=d(je,V,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je,de=Mt}if(_e===j.length)return a(L,de),Be&&ws(L,_e),fe;if(de===null){for(;_e<j.length;_e++)de=J(L,j[_e],W),de!==null&&(V=d(de,V,_e),Ne===null?fe=de:Ne.sibling=de,Ne=de);return Be&&ws(L,_e),fe}for(de=l(de);_e<j.length;_e++)Mt=F(de,L,_e,j[_e],W),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),V=d(Mt,V,_e),Ne===null?fe=Mt:Ne.sibling=Mt,Ne=Mt);return t&&de.forEach(function(Ir){return i(L,Ir)}),Be&&ws(L,_e),fe}function ve(L,V,j,W){if(j==null)throw Error(s(151));for(var fe=null,Ne=null,de=V,_e=V=0,Mt=null,je=j.next();de!==null&&!je.done;_e++,je=j.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Ir=H(L,de,je.value,W);if(Ir===null){de===null&&(de=Mt);break}t&&de&&Ir.alternate===null&&i(L,de),V=d(Ir,V,_e),Ne===null?fe=Ir:Ne.sibling=Ir,Ne=Ir,de=Mt}if(je.done)return a(L,de),Be&&ws(L,_e),fe;if(de===null){for(;!je.done;_e++,je=j.next())je=J(L,je.value,W),je!==null&&(V=d(je,V,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Be&&ws(L,_e),fe}for(de=l(de);!je.done;_e++,je=j.next())je=F(de,L,_e,je.value,W),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),V=d(je,V,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return t&&de.forEach(function(n2){return i(L,n2)}),Be&&ws(L,_e),fe}function We(L,V,j,W){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case x:e:{for(var fe=j.key;V!==null;){if(V.key===fe){if(fe=j.type,fe===z){if(V.tag===7){a(L,V.sibling),W=h(V,j.props.children),W.return=L,L=W;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&$g(fe)===V.type){a(L,V.sibling),W=h(V,j.props),nl(W,j),W.return=L,L=W;break e}a(L,V);break}else i(L,V);V=V.sibling}j.type===z?(W=Ts(j.props.children,L.mode,W,j.key),W.return=L,L=W):(W=Pu(j.type,j.key,j.props,null,L.mode,W),nl(W,j),W.return=L,L=W)}return _(L);case P:e:{for(fe=j.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(L,V.sibling),W=h(V,j.children||[]),W.return=L,L=W;break e}else{a(L,V);break}else i(L,V);V=V.sibling}W=uf(j,L.mode,W),W.return=L,L=W}return _(L);case b:return fe=j._init,j=fe(j._payload),We(L,V,j,W)}if(Qe(j))return Te(L,V,j,W);if(O(j)){if(fe=O(j),typeof fe!="function")throw Error(s(150));return j=fe.call(j),ve(L,V,j,W)}if(typeof j.then=="function")return We(L,V,Ju(j),W);if(j.$$typeof===Q)return We(L,V,zu(L,j),W);ec(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(L,V.sibling),W=h(V,j),W.return=L,L=W):(a(L,V),W=lf(j,L.mode,W),W.return=L,L=W),_(L)):a(L,V)}return function(L,V,j,W){try{tl=0;var fe=We(L,V,j,W);return Sa=null,fe}catch(de){if(de===Ko||de===Hu)throw de;var Ne=un(29,de,null,L.mode);return Ne.lanes=W,Ne.return=L,Ne}finally{}}}var Aa=Xg(!0),Wg=Xg(!1),Cn=ne(null),ti=null;function dr(t){var i=t.alternate;re(St,St.current&1),re(Cn,t),ti===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ti=t)}function Zg(t){if(t.tag===22){if(re(St,St.current),re(Cn,t),ti===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ti=t)}}else mr()}function mr(){re(St,St.current),re(Cn,Cn.current)}function Pi(t){ue(Cn),ti===t&&(ti=null),ue(St)}var St=ne(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=dn(),h=cr(l);h.payload=i,a!=null&&(h.callback=a),i=hr(t,h,l),i!==null&&(mn(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=dn(),h=cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=hr(t,h,l),i!==null&&(mn(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=dn(),l=cr(a);l.tag=2,i!=null&&(l.callback=i),i=hr(t,l,a),i!==null&&(mn(i,t,a),Yo(i,t,a))}};function Jg(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,l)||!Uo(h,d):!0}function ey(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Ns(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ty(t){nc(t)}function ny(t){console.error(t)}function iy(t){nc(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ry(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function sy(t){return t=cr(t),t.tag=3,t}function ay(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ry(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ry(i,a,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function n1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ti===null?md():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_f?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return a.flags|=65536,l===_f?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(t,l,h)),!1}throw Error(s(435,a.tag))}return gd(t,l,h),md(),!1}if(Be)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(s(422),{cause:l}),Ho(wn(t,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),Ho(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=Ff(t.stateNode,l,h),bf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),ul===null?ul=[d]:ul.push(d),ct!==4&&(ct=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,l,t),bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,t,a,l),bf(a,h),!1}a=a.return}while(a!==null);return!1}var oy=Error(s(461)),Dt=!1;function Lt(t,i,a,l){i.child=t===null?Wg(i,null,a,l):Aa(i,t.child,a,l)}function ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Cs(i),l=Cf(t,i,a,_,d,h),T=If(),t!==null&&!Dt?(xf(t,i,h),Li(t,i,h)):(Be&&T&&cf(i),i.flags|=1,Lt(t,i,l,h),i.child)}function uy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,cy(t,i,d,l,h)):(t=Pu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(_,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function cy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Uo(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,Zf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Li(t,i,h)}return Gf(t,i,a,l,h)}function hy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return fy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(i,d!==null?d.cachePool:null),d!==null?cg(i,d):Sf(),Zg(i);else return i.lanes=i.childLanes=536870912,fy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Bu(i,d.cachePool),cg(i,d),mr(),i.memoizedState=null):(t!==null&&Bu(i,null),Sf(),mr());return Lt(t,i,h,a),i.child}function fy(t,i,a,l){var h=vf();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bu(i,null),Sf(),Zg(i),t!==null&&qo(t,i,l,!0),null}function rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gf(t,i,a,l,h){return Cs(i),a=Cf(t,i,a,l,void 0,h),l=If(),t!==null&&!Dt?(xf(t,i,h),Li(t,i,h)):(Be&&l&&cf(i),i.flags|=1,Lt(t,i,a,h),i.child)}function dy(t,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=fg(i,l,a,h),hg(t),l=If(),t!==null&&!Dt?(xf(t,i,d),Li(t,i,d)):(Be&&l&&cf(i),i.flags|=1,Lt(t,i,a,d),i.child)}function my(t,i,a,l,h){if(Cs(i),i.stateNode===null){var d=pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ef(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Ns(a,T);d.props=D;var B=d.context,X=a.contextType;_=pa,typeof X=="object"&&X!==null&&(_=Ft(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&ey(i,d,l,_),ur=!1;var H=i.memoizedState;d.state=H,Xo(i,l,d,h),$o(),B=i.memoizedState,T||H!==B||ur?(typeof J=="function"&&(Hf(i,a,J,l),B=i.memoizedState),(D=ur||Jg(i,a,D,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Tf(t,i),_=i.memoizedProps,X=Ns(a,_),d.props=X,J=i.pendingProps,H=d.context,B=a.contextType,D=pa,typeof B=="object"&&B!==null&&(D=Ft(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==D)&&ey(i,d,l,D),ur=!1,H=i.memoizedState,d.state=H,Xo(i,l,d,h),$o();var F=i.memoizedState;_!==J||H!==F||ur||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Hf(i,a,T,l),F=i.memoizedState),(X=ur||Jg(i,a,X,l,H,F,D)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Aa(i,t.child,null,h),i.child=Aa(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Li(t,i,h),t}function py(t,i,a,l){return Bo(),i.flags|=256,Lt(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ng()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?dr(i):mr(),Be){var T=ut,D;if(D=T){e:{for(D=T,T=ei;D.nodeType!==8;){if(!T){T=null;break e}if(D=Pn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},D=un(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,en=i,ut=null,D=!0):D=!1}D||As(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Dd(T)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=sc({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Qf(a),h.childLanes=Yf(t,_,a),i.memoizedState=Kf,l):(dr(i),$f(i,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=Xf(t,i,a)):i.memoizedState!==null?(mr(),i.child=t.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=sc({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Aa(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,_,a),i.memoizedState=Kf,i=h);else if(dr(i),Dd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),i=Xf(t,i,a)}else if(Dt||qo(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=et,_!==null&&(l=a&-a,l=(l&42)!==0?1:tr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ma(t,l),mn(_,t,l),oy;T.data==="$?"||md(),i=Xf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ut=Pn(T.nextSibling),en=i,Be=!0,Ss=null,ei=!1,t!==null&&(An[Rn++]=Di,An[Rn++]=Oi,An[Rn++]=bs,Di=t.id,Oi=t.overflow,bs=i),i=$f(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,D=t.child,B=D.sibling,l=Ni(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?h=Ni(B,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Qf(a):(D=T.cachePool,D!==null?(B=wt._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=ng(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Yf(t,_,a),i.memoizedState=Kf,l):(dr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sc(t,i){return t=un(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xf(t,i,a){return Aa(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),mf(t.return,i,a)}function Wf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function vy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,i);else if(t.tag===19)yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function i1(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),lr(i,wt,t.memoizedState.cache),Bo();break;case 27:case 5:er(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gy(t,i,a):(dr(i),t=Li(t,i,a),t!==null?t.sibling:null);dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return vy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,hy(t,i,a);case 24:lr(i,wt,t.memoizedState.cache)}return Li(t,i,a)}function _y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return Dt=!1,i1(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(i.flags&1048576)!==0&&$p(i,Uu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")of(l)?(t=Ns(l,t),i.tag=1,i=my(null,i,l,t,a)):(i.tag=0,i=Gf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===le){i.tag=11,i=ly(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=uy(null,i,l,t,a);break e}}throw i=rt(l)||l,Error(s(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),my(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Tf(t,i),Xo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,lr(i,wt,l),l!==d.cache&&pf(i,[wt],a,!0),$o(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=py(t,i,l,a);break e}else if(l!==h){h=wn(Error(s(424)),i),Ho(h),i=py(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Pn(t.firstChild),en=i,Be=!0,Ss=null,ei=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===h){i=Li(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return rc(t,i),t===null?(a=wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=_c(we.current).createElement(a),l[Et]=i,l[pt]=t,jt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return er(i),t===null&&Be&&(l=i.stateNode=Ev(i.type,i.pendingProps,we.current),en=i,ei=!0,h=ut,wr(i.type)?(Od=h,ut=Pn(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,a),rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=D1(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,en=i,ut=Pn(l.firstChild),ei=!1,h=!0):h=!1),h||As(i)),er(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Id(h,d)?l=null:_!==null&&Id(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,$b,null,null,a),vl._currentValue=h),rc(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=O1(a,i.pendingProps,ei),a!==null?(i.stateNode=a,en=i,ut=null,t=!0):t=!1),t||As(i)),null;case 13:return gy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Aa(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return ly(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,lr(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=Ft(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return uy(t,i,i.type,i.pendingProps,a);case 15:return cy(t,i,i.type,i.pendingProps,a);case 19:return vy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return hy(t,i,a);case 24:return Cs(i),l=Ft(wt),t===null?(h=vf(),h===null&&(h=et,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ef(i),lr(i,wt,h)):((t.lanes&a)!==0&&(Tf(t,i),Xo(i,null,null,a),$o()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),lr(i,wt,l)):(l=d.cache,lr(i,wt,l),l!==h.cache&&pf(i,[wt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(i)){if(i=Cn.current,i!==null&&((Le&4194048)===Le?ti!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ti))throw Qo=_f,ig;t.flags|=8192}}function ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eo():536870912,t.lanes|=i,xa|=i)}function il(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function r1(t,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(wt),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(zo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zp())),st(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(st(i),Ey(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),st(i),Ey(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),st(i),i.flags&=-16777217),null;case 27:yi(i),a=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ge.current,zo(i)?Xp(i):(t=Ev(h,l,a),i.stateNode=t,Ui(i))}return st(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=ge.current,zo(i))Xp(i);else{switch(h=_c(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,zo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dv(t.nodeValue,a)),t||As(i)}else t=_c(t).createTextNode(l),t[Et]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Zp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),st(i),null;case 4:return Hn(),t===null&&wd(i.stateNode.containerInfo),st(i),null;case 10:return ki(i.type),st(i),null;case 19:if(ue(St),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,il(h,!1),t=d.updateQueue,i.updateQueue=t,ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Yp(a,t),a=a.sibling;return re(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&yn()>uc&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(t=tc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ac(i,t),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*yn()-h.renderingStartTime>uc&&a!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,t=St.current,re(St,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Pi(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(wt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function s1(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(wt),Hn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(St),null;case 4:return Hn(),null;case 10:return ki(i.type),null;case 22:case 23:return Pi(i),Af(),t!==null&&ue(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(wt),null;case 25:return null;default:return null}}function Ty(t,i){switch(hf(i),i.tag){case 3:ki(wt),Hn();break;case 26:case 27:case 5:yi(i);break;case 4:Hn();break;case 13:Pi(i);break;case 19:ue(St);break;case 10:ki(i.type);break;case 22:case 23:Pi(i),Af(),t!==null&&ue(Is);break;case 24:ki(wt)}}function rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,B=T;try{B()}catch(X){Ze(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(i,i.return,X)}}function by(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ug(i,a)}catch(l){Ze(t,t.return,l)}}}function wy(t,i,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Sy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Jf(t,i,a){try{var l=t.stateNode;R1(l,t.type,a,i),l[pt]=i}catch(h){Ze(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=vc));else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,a),t=t.sibling;t!==null;)td(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}function Ry(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[Et]=t,i[pt]=a}catch(d){Ze(t,t.return,d)}}var ji=!1,dt=!1,nd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function a1(t,i){if(t=t.containerInfo,Rd=Ac,t=Up(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,X=0,J=t,H=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===t)break t;if(H===a&&++B===h&&(T=_),H===d&&++X===l&&(D=_),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Ac=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ns(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function Iy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),l&4&&rl(5,a);break;case 1:if(gr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&by(a),l&512&&sl(a,a.return);break;case 3:if(gr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ug(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&Ry(a);case 26:case 5:gr(t,a),i===null&&l&4&&Sy(a),l&512&&sl(a,a.return);break;case 12:gr(t,a);break;case 13:gr(t,a),l&4&&Dy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=p1.bind(null,a),M1(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||dt,h=ji;var d=dt;ji=l,(dt=i)&&!d?yr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),ji=h,dt=d}break;case 30:break;default:gr(t,a)}}function xy(t){var i=t.alternate;i!==null&&(t.alternate=null,xy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,nn=!1;function zi(t,i,a){for(a=a.child;a!==null;)Ny(t,i,a),a=a.sibling}function Ny(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||ni(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||ni(a,i);var l=nt,h=nn;wr(a.type)&&(nt=a.stateNode,nn=!1),zi(t,i,a),ml(a.stateNode),nt=l,nn=h;break;case 5:dt||ni(a,i);case 6:if(l=nt,h=nn,nt=null,zi(t,i,a),nt=l,nn=h,nt!==null)if(nn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:nt!==null&&(nn?(t=nt,vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bl(t)):vv(nt,a.stateNode));break;case 4:l=nt,h=nn,nt=a.stateNode.containerInfo,nn=!0,zi(t,i,a),nt=l,nn=h;break;case 0:case 11:case 14:case 15:dt||pr(2,a,i),dt||pr(4,a,i),zi(t,i,a);break;case 1:dt||(ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wy(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,zi(t,i,a),dt=l;break;default:zi(t,i,a)}}function Dy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bl(t)}catch(a){Ze(i,i.return,a)}}function o1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Cy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Cy),i;default:throw Error(s(435,t.tag))}}function id(t,i){var a=o1(t);i.forEach(function(l){var h=g1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(wr(T.type)){nt=T.stateNode,nn=!1;break e}break;case 5:nt=T.stateNode,nn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));Ny(d,_,h),nt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Oy(i,t),i=i.sibling}var Vn=null;function Oy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(pr(3,t,t.return),rl(3,t),pr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(dt||a===null||ni(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vn;if(cn(i,t),hn(t),l&512&&(dt||a===null||ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[Et]=t,ht(d),l=d;break e;case"link":var _=Rv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Rv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ht(d),l=d}t.stateNode=l}else Cv(h,t.type,t.stateNode);else t.stateNode=Av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cv(h,t.type,t.stateNode):Av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(dt||a===null||ni(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(dt||a===null||ni(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(bc=null,h=Vn,Vn=Ec(i.containerInfo),cn(i,t),Vn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(F){Ze(t,t.return,F)}nd&&(nd=!1,My(t));break;case 4:l=Vn,Vn=Ec(t.stateNode.containerInfo),cn(i,t),hn(t),Vn=l;break;case 12:cn(i,t),hn(t);break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ji,X=dt;if(ji=B||h,dt=X||D,cn(i,t),dt=X,ji=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||ji||dt||Ds(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(D,D.return,F)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(F){Ze(D,D.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ay(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ed(t);oc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var T=ed(t);oc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=ed(t);td(t,B,D);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iy(t,i.alternate,i),i=i.sibling}function Ds(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),Ds(i);break;case 1:ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wy(i,i.return,a),Ds(i);break;case 27:ml(i.stateNode);case 26:case 5:ni(i,i.return),Ds(i);break;case 22:i.memoizedState===null&&Ds(i);break;case 30:Ds(i);break;default:Ds(i)}t=t.sibling}}function yr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),rl(4,d);break;case 1:if(yr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)lg(D[h],T)}catch(B){Ze(l,l.return,B)}}a&&_&64&&by(d),sl(d,d.return);break;case 27:Ry(d);case 26:case 5:yr(h,d,a),a&&l===null&&_&4&&Sy(d),sl(d,d.return);break;case 12:yr(h,d,a);break;case 13:yr(h,d,a),a&&_&4&&Dy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),sl(d,d.return);break;case 30:break;default:yr(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ky(t,i,a,l),i=i.sibling}function ky(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),h&2048&&rl(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(i,i.return,D)}}else ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):al(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Ra(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(_,i);break;case 24:ii(t,i,a,l),h&2048&&sd(i.alternate,i);break;default:ii(t,i,a,l)}}function Ra(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ra(d,_,T,D,h),rl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ra(d,_,T,D,h):al(d,_):(X._visibility|=2,Ra(d,_,T,D,h)),h&&B&2048&&rd(_.alternate,_);break;case 24:Ra(d,_,T,D,h),h&&B&2048&&sd(_.alternate,_);break;default:Ra(d,_,T,D,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&rd(l.alternate,l);break;case 24:al(a,l),h&2048&&sd(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Ca(t){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 26:Ca(t),t.flags&ol&&t.memoizedState!==null&&K1(Vn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=Vn;Vn=Ec(t.stateNode.containerInfo),Ca(t),Vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Ca(t),ol=i):Ca(t));break;default:Ca(t)}}function Py(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Uy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&pr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,lc(t)):ll(t);break;default:ll(t)}}function lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Uy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:pr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lc(i));break;default:lc(i)}t=t.sibling}}function Uy(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(xy(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var l1={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},u1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Le=0,Ke=0,fn=null,vr=!1,Ia=!1,ad=!1,Bi=0,ct=0,_r=0,Os=0,od=0,In=0,xa=0,ul=null,rn=null,ld=!1,ud=0,uc=1/0,cc=null,Er=null,Ut=0,Tr=null,Na=null,Da=0,cd=0,hd=null,jy=null,cl=0,fd=null;function dn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=va;return t!==0?t:_d()}return nr()}function zy(){In===0&&(In=(Le&536870912)===0||Be?_o():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),In}function mn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),br(t,Le,In,!1)),_i(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Os|=a),ct===4&&br(t,Le,In,!1)),ri(t))}function By(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||rs(t,i),h=l?f1(t,i):pd(t,i,!0),d=l;do{if(h===0){Ia&&!l&&br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!c1(a)){h=pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ul;var D=T.current.memoizedState.isDehydrated;if(D&&(Oa(T,_).flags|=256),_=pd(T,_,!1),_!==2){if(ad&&!D){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Oa(t,0),br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:br(l,i,In,!vr);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ud+300-yn(),10<h)){if(br(l,i,In,!vr),$s(l,0,!0)!==0)break e;l.timeoutHandle=gv(Hy.bind(null,l,a,rn,cc,ld,i,In,Os,xa,vr,d,2,-0,0),h);break e}Hy(l,a,rn,cc,ld,i,In,Os,xa,vr,d,0,-0,0)}}break}while(!0);ri(t)}function Hy(t,i,a,l,h,d,_,T,D,B,X,J,H,F){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:G1},Vy(i),J=Q1(),J!==null)){t.cancelPendingCommit=J($y.bind(null,t,i,d,a,l,h,_,T,D,X,1,H,F)),br(t,d,_,!B);return}$y(t,i,d,a,l,h,_,T,D)}function c1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(t,i,a,l){i&=~od,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&qn(t,a,i)}function hc(){return(Ge&6)===0?(hl(0),!1):!0}function dd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Mi=Rs=null,Nf(t),Sa=null,tl=0,t=De;for(;t!==null;)Ty(t.alternate,t),t=t.return;De=null}}function Oa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,I1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dd(),et=t,De=a=Ni(t.current,null),Le=i,Ke=0,fn=null,vr=!1,Ia=rs(t,i),ad=!1,xa=In=od=Os=_r=ct=0,rn=ul=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Mu(),a}function qy(t,i){Ce=null,$.H=Zu,i===Ko||i===Hu?(i=ag(),Ke=3):i===ig?(i=ag(),Ke=4):Ke=i===oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,De===null&&(ct=1,ic(t,wn(i,t.current)))}function Fy(){var t=$.H;return $.H=Zu,t===null?Zu:t}function Gy(){var t=$.A;return $.A=l1,t}function md(){ct=4,vr||(Le&4194048)!==Le&&Cn.current!==null||(Ia=!0),(_r&134217727)===0&&(Os&134217727)===0||et===null||br(et,Le,In,!1)}function pd(t,i,a){var l=Ge;Ge|=2;var h=Fy(),d=Gy();(et!==t||Le!==i)&&(cc=null,Oa(t,i)),i=!1;var _=ct;e:do try{if(Ke!==0&&De!==null){var T=De,D=fn;switch(Ke){case 8:dd(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var B=Ke;if(Ke=0,fn=null,Ma(t,T,D,B),a&&Ia){_=0;break e}break;default:B=Ke,Ke=0,fn=null,Ma(t,T,D,B)}}h1(),_=ct;break}catch(X){qy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Mi=Rs=null,Ge=l,$.H=h,$.A=d,De===null&&(et=null,Le=0,Mu()),_}function h1(){for(;De!==null;)Ky(De)}function f1(t,i){var a=Ge;Ge|=2;var l=Fy(),h=Gy();et!==t||Le!==i?(cc=null,uc=yn()+500,Oa(t,i)):Ia=rs(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=fn;t:switch(Ke){case 1:Ke=0,fn=null,Ma(t,i,d,1);break;case 2:case 9:if(rg(d)){Ke=0,fn=null,Qy(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),ri(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:rg(d)?(Ke=0,fn=null,Qy(i)):(Ke=0,fn=null,Ma(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(!_||Iv(_)){Ke=0,fn=null;var D=T.sibling;if(D!==null)De=D;else{var B=T.return;B!==null?(De=B,fc(B)):De=null}break t}}Ke=0,fn=null,Ma(t,i,d,5);break;case 6:Ke=0,fn=null,Ma(t,i,d,6);break;case 8:dd(),ct=6;break e;default:throw Error(s(462))}}d1();break}catch(X){qy(t,X)}while(!0);return Mi=Rs=null,$.H=l,$.A=h,Ge=a,De!==null?0:(et=null,Le=0,Mu(),ct)}function d1(){for(;De!==null&&!po();)Ky(De)}function Ky(t){var i=_y(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?fc(t):De=i}function Qy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=dy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=dy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Nf(i);default:Ty(a,i),i=De=Yp(i,Bi),i=_y(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?fc(t):De=i}function Ma(t,i,a,l){Mi=Rs=null,Nf(i),Sa=null,tl=0;var h=i.return;try{if(n1(t,h,i,a,Le)){ct=1,ic(t,wn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,ic(t,wn(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:Ia||(Le&536870912)!==0?t=!1:(vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(i,t)):fc(i)}function fc(t){var i=t;do{if((i.flags&32768)!==0){Yy(i,vr);return}t=i.return;var a=r1(i.alternate,i,Bi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ct===0&&(ct=5)}function Yy(t,i){do{var a=s1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function $y(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do dc();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sf,To(t,a,d,_,T,D),t===et&&(De=et=null,Le=0),Na=i,Tr=t,Da=a,cd=d,hd=h,jy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,y1(es,function(){return ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{a1(t,i,a)}finally{Ge=_,oe.p=h,$.T=l}}Ut=1,Xy(),Wy(),Zy()}}function Xy(){if(Ut===1){Ut=0;var t=Tr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Oy(i,t);var d=Cd,_=Up(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(D!==null&&Jh(T)){var B=D.start,X=D.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,ve=Math.min(D.start,Te),We=D.end===void 0?ve:Math.min(D.end,Te);!F.extend&&ve>We&&(_=We,We=ve,ve=_);var L=Pp(T,ve),V=Pp(T,We);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var j=J.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),ve>We?(F.addRange(j),F.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),F.addRange(j))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ac=!!Rd,Cd=Rd=null}finally{Ge=h,oe.p=l,$.T=a}}t.current=i,Ut=2}}function Wy(){if(Ut===2){Ut=0;var t=Tr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Iy(t,i.alternate,i)}finally{Ge=h,oe.p=l,$.T=a}}Ut=3}}function Zy(){if(Ut===4||Ut===3){Ut=0,lu();var t=Tr,i=Na,a=Da,l=jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Na=Tr=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Er=null),Xs(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=oe.p,oe.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{$.T=i,oe.p=h}}(Da&3)!==0&&dc(),ri(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===fd?cl++:(cl=0,fd=t):cl=0,hl(0)}}function Jy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Fo(i)))}function dc(t){return Xy(),Wy(),Zy(),ev()}function ev(){if(Ut!==5)return!1;var t=Tr,i=cd;cd=0;var a=Xs(Da),l=$.T,h=oe.p;try{oe.p=32>a?32:a,$.T=null,a=hd,hd=null;var d=Tr,_=Da;if(Ut=0,Na=Tr=null,Da=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Ly(d.current),ky(d,d.current,_,a),Ge=T,hl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=h,$.T=l,Jy(t,i)}}function tv(t,i,a){i=wn(a,i),i=Ff(t.stateNode,i,2),t=hr(t,i,2),t!==null&&(_i(t,2),ri(t))}function Ze(t,i,a){if(t.tag===3)tv(t,t,a);else for(;i!==null;){if(i.tag===3){tv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){t=wn(a,t),a=sy(2),l=hr(i,a,2),l!==null&&(ay(a,l,i,t),_i(l,2),ri(l));break}}i=i.return}}function gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new u1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),t=m1.bind(null,t,i,a),i.then(t,t))}function m1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>yn()-ud?(Ge&2)===0&&Oa(t,0):od|=a,xa===Le&&(xa=0)),ri(t)}function nv(t,i){i===0&&(i=Eo()),t=ma(t,i),t!==null&&(_i(t,i),ri(t))}function p1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),nv(t,a)}function g1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),nv(t,a)}function y1(t,i){return Zr(t,i)}var mc=null,ka=null,yd=!1,pc=!1,vd=!1,Ms=0;function ri(t){t!==ka&&t.next===null&&(ka===null?mc=ka=t:ka=ka.next=t),pc=!0,yd||(yd=!0,_1())}function hl(t,i){if(!vd&&pc){vd=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,av(l,d))}else d=Le,d=$s(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,av(l,d));l=l.next}while(a);vd=!1}}function v1(){iv()}function iv(){pc=yd=!1;var t=0;Ms!==0&&(C1()&&(t=Ms),Ms=0);for(var i=yn(),a=null,l=mc;l!==null;){var h=l.next,d=rv(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(pc=!0)),l=h}hl(t)}function rv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-qt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=vo(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Le,a=$s(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),Xs(a)){case 2:case 8:a=Qs;break;case 32:a=es;break;case 268435456:a=Ys;break;default:a=es}return l=sv.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function sv(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=Le;return l=$s(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,i),rv(t,yn()),t.callbackNode!=null&&t.callbackNode===a?sv.bind(null,t):null)}function av(t,i){if(dc())return null;By(t,i,!0)}function _1(){x1(function(){(Ge&6)!==0?Zr(go,v1):iv()})}function _d(){return Ms===0&&(Ms=_o()),Ms}function ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function lv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function E1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=ov((h[pt]||null).action),_=l.submitter;_&&(i=(i=_[pt]||null)?ov(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ia("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var D=_?lv(h,_):new FormData(h);jf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?lv(h,_):new FormData(h),jf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Ed=0;Ed<rf.length;Ed++){var Td=rf[Ed],T1=Td.toLowerCase(),b1=Td[0].toUpperCase()+Td.slice(1);kn(T1,"on"+b1)}kn(Bp,"onAnimationEnd"),kn(Hp,"onAnimationIteration"),kn(qp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(jb,"onTransitionRun"),kn(zb,"onTransitionStart"),kn(Bb,"onTransitionCancel"),kn(Fp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function uv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){nc(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){nc(X)}h.currentTarget=null,d=D}}}}function Oe(t,i){var a=i[wo];a===void 0&&(a=i[wo]=new Set);var l=t+"__bubble";a.has(l)||(cv(i,t,2,!1),a.add(l))}function bd(t,i,a){var l=0;i&&(l|=4),cv(a,t,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[gc]){t[gc]=!0,So.forEach(function(a){a!=="selectionchange"&&(w1.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gc]||(i[gc]=!0,bd("selectionchange",!1,i))}}function cv(t,i,a,l){switch(kv(i)){case 2:var h=X1;break;case 8:h=W1;break;default:h=Ld}a=h.bind(null,i,a,t),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ei(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}vu(function(){var B=d,X=En(a),J=[];e:{var H=Gp.get(t);if(H!==void 0){var F=ia,Te=t;switch(t){case"keypress":if($n(a)===0)break e;case"keydown":case"keyup":F=ua;break;case"focusin":Te="focus",F=aa;break;case"focusout":Te="blur",F=aa;break;case"beforeblur":case"afterblur":F=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ru;break;case Bp:case Hp:case qp:F=oa;break;case Fp:F=Iu;break;case"scroll":case"scrollend":F=_u;break;case"wheel":F=ca;break;case"copy":case"cut":case"paste":F=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Po;break;case"toggle":case"beforetoggle":F=Nu}var ve=(i&4)!==0,We=!ve&&(t==="scroll"||t==="scrollend"),L=ve?H!==null?H+"Capture":null:H;ve=[];for(var V=B,j;V!==null;){var W=V;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||L===null||(W=fs(V,L),W!=null&&ve.push(dl(V,W,j))),We)break;V=V.return}0<ve.length&&(H=new F(H,Te,null,a,X),J.push({event:H,listeners:ve}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Si&&(Te=a.relatedTarget||a.fromElement)&&(Ei(Te)||Te[vn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=B,Te=Te?Ei(Te):null,Te!==null&&(We=u(Te),ve=Te.tag,Te!==We||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(F=null,Te=B),F!==Te)){if(ve=bn,W="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Po,W="onPointerLeave",L="onPointerEnter",V="pointer"),We=F==null?H:Gn(F),j=Te==null?H:Gn(Te),H=new ve(W,V+"leave",F,a,X),H.target=We,H.relatedTarget=j,W=null,Ei(X)===B&&(ve=new ve(L,V+"enter",Te,a,X),ve.target=j,ve.relatedTarget=We,W=ve),We=W,F&&Te)t:{for(ve=F,L=Te,V=0,j=ve;j;j=Va(j))V++;for(j=0,W=L;W;W=Va(W))j++;for(;0<V-j;)ve=Va(ve),V--;for(;0<j-V;)L=Va(L),j--;for(;V--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Va(ve),L=Va(L)}ve=null}else ve=null;F!==null&&hv(J,H,F,ve,!1),Te!==null&&We!==null&&hv(J,We,Te,ve,!0)}}e:{if(H=B?Gn(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=Np;else if(bt(H))if(Dp)fe=Pb;else{fe=kb;var Ne=Mb}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&xo(B.elementType)&&(fe=Np):fe=Vb;if(fe&&(fe=fe(t,B))){xi(J,fe,a,X);break e}Ne&&Ne(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&ar(H,"number",H.value)}switch(Ne=B?Gn(B):window,t){case"focusin":(bt(Ne)||Ne.contentEditable==="true")&&(ha=Ne,ef=B,jo=null);break;case"focusout":jo=ef=ha=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,jp(J,a,X);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":jp(J,a,X)}var de;if(Zn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?G(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(de=Do()):(Yn=X,or="value"in Yn?Yn.value:Yn.textContent,Ve=!0)),Ne=yc(B,_e),0<Ne.length&&(_e=new ko(_e,t,null,a,X),J.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=g?Tt(t,a):Pe(t,a))&&(_e=yc(B,"onBeforeInput"),0<_e.length&&(Ne=new ko("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:_e}),Ne.data=de)),E1(J,t,B,a,X)}uv(J,i)})}function dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(dl(t,h,d)),h=fs(t,i),h!=null&&l.push(dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=fs(a,d),B!=null&&_.unshift(dl(a,B,D))):h||(B=fs(a,d),B!=null&&_.push(dl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var S1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(S1,`
`).replace(A1,"")}function dv(t,i){return i=fv(i),fv(t)===i}function vc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Kn(t,"class",l);break;case"tabIndex":Kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(t,a,l);break;case"style":Io(t,l,d);break;case"data":if(i!=="object"){Kn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=vc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qh.get(a)||a,sr(t,a,l))}}function Ad(t,i,a,l,h,d){switch(a){case"style":Io(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,_,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Xe(t,i,l,X,a,null)}}us(t,d,T,D,B,_,h,!1),ta(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?wi(t,!!l,i,!1):a!=null&&wi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,_,T,a,null)}cs(t,l,h,d),ta(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,D,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Oe(fl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,B,l,a,null)}return;default:if(xo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ad(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function R1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,B=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":X=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==J&&Xe(t,i,H,F,l,J)}}on(t,_,T,D,B,X,d,h);return;case"select":F=_=T=H=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Xe(t,i,h,d,l,D)}i=T,a=_,l=F,H!=null?wi(t,!!a,H,!1):!!l!=!!a&&(i!=null?wi(t,!!a,i,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,_,h,l,d)}Ye(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,i,Te,null,l,H)}for(D in l)if(H=l[D],F=a[D],l.hasOwnProperty(D)&&H!==F&&(H!=null||F!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,D,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Xe(t,i,ve,null,l,H);for(B in l)if(H=l[B],F=a[B],l.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,B,H,l,F)}return;default:if(xo(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Ad(t,i,We,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Ad(t,i,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xe(t,i,L,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||Xe(t,i,J,H,l,F)}var Rd=null,Cd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Id(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function C1(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(N1)}:gv;function N1(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function vv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&ml(_.documentElement),a&2&&ml(_.body),a&4)for(a=_.head,ml(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[ss]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),bl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);bl(i)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function D1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function O1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function M1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Od=null;function _v(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ev(t,i,a){switch(i=_c(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rr(t)}var xn=new Map,Tv=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=oe.d;oe.d={f:k1,r:V1,D:P1,C:L1,L:U1,m:j1,X:B1,S:z1,M:H1};function k1(){var t=Hi.f(),i=hc();return t||i}function V1(t){var i=Fn(t);i!==null&&i.tag===5&&i.type==="form"?Bg(i):Hi.r(t)}var Pa=typeof document>"u"?null:document;function bv(t,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Tv.has(h)||(Tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function P1(t){Hi.D(t),bv("dns-prefetch",t,null)}function L1(t,i){Hi.C(t,i),bv("preconnect",t,i)}function U1(t,i,a){Hi.L(t,i,a);var l=Pa;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=La(t);break;case"script":d=Ua(t)}xn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function j1(t,i){Hi.m(t,i);var a=Pa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(t)}if(!xn.has(d)&&(t=E({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),jt(l,"link",t),ht(l),a.head.appendChild(l)}}}function z1(t,i,a){Hi.S(t,i,a);var l=Pa;if(l&&t){var h=Wt(l).hoistableStyles,d=La(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(pl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Md(t,a);var D=_=l.createElement("link");ht(D),jt(D,"link",t),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function B1(t,i){Hi.X(t,i);var a=Pa;if(a&&t){var l=Wt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=E({src:t,async:!0},i),(i=xn.get(h))&&kd(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H1(t,i){Hi.M(t,i);var a=Pa;if(a&&t){var l=Wt(a).hoistableScripts,h=Ua(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&kd(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wv(t,i,a,l){var h=(h=we.current)?Ec(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var d=Wt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(pl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||q1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function La(t){return'href="'+gt(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ht(i),t.head.appendChild(i))}function Ua(t){return'[src="'+gt(t)+'"]'}function gl(t){return"script[async]"+t}function Av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),jt(l,"style",h),Tc(l,a.precedence,t),i.instance=l;case"stylesheet":h=La(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=Sv(a),(h=xn.get(h))&&Md(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),jt(d,"link",l),i.state.loading|=4,Tc(d,a.precedence,t),i.instance=d;case"script":return d=Ua(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,ht(h),h):(l=a,(h=xn.get(d))&&(l=E({},a),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Tc(l,a.precedence,t));return i.instance}function Tc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function Rv(t,i,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function F1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function G1(){}function K1(t,i,a){if(yl===null)throw Error(s(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=t.querySelector(pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=Sv(a),(h=xn.get(h))&&Md(a,h),d=d.createElement("link"),ht(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Q1(){if(yl===null)throw Error(s(475));var t=yl;return t.stylesheets&&t.count===0&&Vd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,i.forEach(Y1,t),Sc=null,wc.call(t))}function Y1(t,i){if(!(i.state.loading&4)){var a=Sc.get(t);if(a)var l=a.get(null);else{a=new Map,Sc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function $1(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(t,i,a,l,h,d,_,T,D,B,X,J){return t=new $1(t,i,a,_,T,D,B,J),i=1,d===!0&&(i|=24),d=un(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ef(d),t}function Nv(t){return t?(t=pa,t):pa}function Dv(t,i,a,l,h,d){h=Nv(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hr(t,l,i),a!==null&&(mn(a,t,i),Yo(a,t,i))}function Ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pd(t,i){Ov(t,i),(t=t.alternate)&&Ov(t,i)}function Mv(t){if(t.tag===13){var i=ma(t,67108864);i!==null&&mn(i,t,67108864),Pd(t,67108864)}}var Ac=!0;function X1(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=2,Ld(t,i,a,l)}finally{oe.p=d,$.T=h}}function W1(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=8,Ld(t,i,a,l)}finally{oe.p=d,$.T=h}}function Ld(t,i,a,l){if(Ac){var h=Ud(l);if(h===null)Sd(t,i,l,Rc,a),Vv(t,l);else if(J1(h,t,i,a,l))l.stopPropagation();else if(Vv(t,l),i&4&&-1<Z1.indexOf(t)){for(;h!==null;){var d=Fn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Dn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-qt(_);T.entanglements[1]|=D,_&=~D}ri(d),(Ge&6)===0&&(uc=yn()+500,hl(0))}}break;case 13:T=ma(d,2),T!==null&&mn(T,d,2),hc(),Pd(d,2)}if(d=Ud(l),d===null&&Sd(t,i,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(t,i,l,null,a)}}function Ud(t){return t=En(t),jd(t)}var Rc=null;function jd(t){if(Rc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Rc=t,null}function kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bh()){case go:return 2;case Qs:return 8;case es:case Hh:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var zd=!1,Sr=null,Ar=null,Rr=null,_l=new Map,El=new Map,Cr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,i){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&Mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function J1(t,i,a,l,h){switch(i){case"focusin":return Sr=Tl(Sr,t,i,a,l,h),!0;case"dragenter":return Ar=Tl(Ar,t,i,a,l,h),!0;case"mouseover":return Rr=Tl(Rr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,Tl(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,t,i,a,l,h)),!0}return!1}function Pv(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,hu(t.priority,function(){if(a.tag===13){var l=dn();l=tr(l);var h=ma(a,l);h!==null&&mn(h,a,l),Pd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Si=l,a.target.dispatchEvent(l),Si=null}else return i=Fn(a),i!==null&&Mv(i),t.blockedOn=a,!1;i.shift()}return!0}function Lv(t,i,a){Cc(t)&&a.delete(i)}function e2(){zd=!1,Sr!==null&&Cc(Sr)&&(Sr=null),Ar!==null&&Cc(Ar)&&(Ar=null),Rr!==null&&Cc(Rr)&&(Rr=null),_l.forEach(Lv),El.forEach(Lv)}function Ic(t,i){t.blockedOn===i&&(t.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,e2)))}var xc=null;function Uv(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(i,3),i-=3,jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bl(t){function i(D){return Ic(D,t)}Sr!==null&&Ic(Sr,t),Ar!==null&&Ic(Ar,t),Rr!==null&&Ic(Rr,t),_l.forEach(i),El.forEach(i);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)Pv(a),a.blockedOn===null&&Cr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[pt]||null;if(typeof d=="function")_||Uv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[pt]||null)T=_.formAction;else if(jd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Uv(a)}}}function Bd(t){this._internalRoot=t}Nc.prototype.render=Bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();Dv(a,l,t,i,null,null)},Nc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dv(t.current,2,null,t,null,null),hc(),i[vn]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var i=nr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,t),a===0&&Pv(t)}};var jv=e.version;if(jv!=="19.1.0")throw Error(s(527,jv,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var t2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{lt=Dc.inject(t2),Fe=Dc}catch{}}return Sl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ty,d=ny,_=iy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=xv(t,1,!1,null,null,a,l,h,d,_,T,null),t[vn]=i.current,wd(t),new Bd(i)},Sl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ty,_=ny,T=iy,D=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=xv(t,1,!0,i,a??null,l,h,d,_,T,D,B),i.context=Nv(null),a=i.current,l=dn(),l=tr(l),h=cr(l),h.callback=null,hr(a,h,l),a=l,i.current.lanes=a,_i(i,a),ri(i),t[vn]=i.current,wd(t),new Nc(i)},Sl.version="19.1.0",Sl}var $v;function f2(){if($v)return Fd.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=h2(),Fd.exports}var d2=f2(),Al={},Xv;function m2(){if(Xv)return Al;Xv=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.parse=f,Al.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,P){const z=new u,Z=x.length;if(Z<2)return z;const q=(P==null?void 0:P.decode)||E;let Y=0;do{const te=x.indexOf("=",Y);if(te===-1)break;const Q=x.indexOf(";",Y),le=Q===-1?Z:Q;if(te>le){Y=x.lastIndexOf(";",te-1)+1;continue}const ae=m(x,Y,te),ce=p(x,te,ae),M=x.slice(ae,ce);if(z[M]===void 0){let b=m(x,te+1,le),A=p(x,le,b);const I=q(x.slice(b,A));z[M]=I}Y=le+1}while(Y<Z);return z}function m(x,P,z){do{const Z=x.charCodeAt(P);if(Z!==32&&Z!==9)return P}while(++P<z);return z}function p(x,P,z){for(;P>z;){const Z=x.charCodeAt(--P);if(Z!==32&&Z!==9)return P+1}return z}function y(x,P,z){const Z=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const q=Z(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Y=x+"="+q;if(!z)return Y;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Y+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Y+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Y+="; Path="+z.path}if(z.expires){if(!C(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Y+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Y+="; HttpOnly"),z.secure&&(Y+="; Secure"),z.partitioned&&(Y+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Y}function E(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function C(x){return o.call(x)==="[object Date]"}return Al}m2();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wv="popstate";function p2(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ul(o)}return y2(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g2(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||s||g2()}}function Ul({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ro(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function y2(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function C(){m="POP";let q=E(),Y=q==null?null:q-y;y=q,p&&p({action:m,location:Z.location,delta:Y})}function x(q,Y){m="PUSH";let te=om(Z.location,q,Y);y=E()+1;let Q=Zv(te,y),le=Z.createHref(te);try{f.pushState(Q,"",le)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(le)}u&&p&&p({action:m,location:Z.location,delta:1})}function P(q,Y){m="REPLACE";let te=om(Z.location,q,Y);y=E();let Q=Zv(te,y),le=Z.createHref(te);f.replaceState(Q,"",le),u&&p&&p({action:m,location:Z.location,delta:0})}function z(q){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof q=="string"?q:Ul(q);return te=te.replace(/ $/,"%20"),at(Y,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,Y)}let Z={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,C),p=q,()=>{o.removeEventListener(Wv,C),p=null}},createHref(q){return e(o,q)},createURL:z,encodeLocation(q){let Y=z(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:x,replace:P,go(q){return f.go(q)}};return Z}function P0(r,e,n="/"){return v2(r,e,n,!1)}function v2(r,e,n,s){let o=typeof e=="string"?ro(e):e,u=Hr(o.pathname||"/",n);if(u==null)return null;let f=L0(r);_2(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=N2(u);m=I2(f[p],y,s)}return m}function L0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ki([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),L0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:R2(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of U0(u.path))o(u,f,p)}),e}function U0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=U0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function _2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:C2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var E2=/^:[\w-]+$/,T2=3,b2=2,w2=1,S2=10,A2=-2,Jv=r=>r==="*";function R2(r,e){let n=r.split("/"),s=n.length;return n.some(Jv)&&(s+=A2),e&&(s+=b2),n.filter(o=>!Jv(o)).reduce((o,u)=>o+(E2.test(u)?T2:u===""?w2:S2),s)}function C2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function I2(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",C=Wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),x=p.route;if(!C&&y&&n&&!s[s.length-1].route.index&&(C=Wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:Ki([u,C.pathname]),pathnameBase:k2(Ki([u,C.pathnameBase])),route:x}),C.pathnameBase!=="/"&&(u=Ki([u,C.pathnameBase]))}return f}function Wc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=x2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:C},x)=>{if(E==="*"){let z=m[x]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const P=m[x];return C&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function x2(r,e=!1,n=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function N2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function D2(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ro(r):r;return{pathname:n?n.startsWith("/")?n:O2(n,e):e,search:V2(s),hash:P2(o)}}function O2(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Yd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j0(r){let e=M2(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function z0(r,e,n,s=!1){let o;typeof r=="string"?o=ro(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),C-=1;o.pathname=x.join("/")}m=C>=0?e[C]:"/"}let p=D2(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),k2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,P2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function L2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var B0=["POST","PUT","PATCH","DELETE"];new Set(B0);var U2=["GET",...B0];new Set(U2);var so=K.createContext(null);so.displayName="DataRouter";var Eh=K.createContext(null);Eh.displayName="DataRouterState";var H0=K.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var j2=K.createContext(new Map);j2.displayName="Fetchers";var z2=K.createContext(null);z2.displayName="Await";var pi=K.createContext(null);pi.displayName="Navigation";var Yl=K.createContext(null);Yl.displayName="Location";var Zi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Vm=K.createContext(null);Vm.displayName="RouteError";function B2(r,{relative:e}={}){at($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(pi),{hash:o,pathname:u,search:f}=Xl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ki([n,u])),s.createHref({pathname:m,search:f,hash:o})}function $l(){return K.useContext(Yl)!=null}function Bs(){return at($l(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Yl).location}var q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F0(r){K.useContext(pi).static||K.useLayoutEffect(r)}function H2(){let{isDataRoute:r}=K.useContext(Zi);return r?tw():q2()}function q2(){at($l(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(so),{basename:e,navigator:n}=K.useContext(pi),{matches:s}=K.useContext(Zi),{pathname:o}=Bs(),u=JSON.stringify(j0(s)),f=K.useRef(!1);return F0(()=>{f.current=!0}),K.useCallback((p,y={})=>{if(fi(f.current,q0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=z0(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}K.createContext(null);function Xl(r,{relative:e}={}){let{matches:n}=K.useContext(Zi),{pathname:s}=Bs(),o=JSON.stringify(j0(n));return K.useMemo(()=>z0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function F2(r,e){return G0(r,e)}function G0(r,e,n,s){var te;at($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(pi),{matches:f}=K.useContext(Zi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",C=m&&m.route;{let Q=C&&C.path||"";K0(y,!C||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let x=Bs(),P;if(e){let Q=typeof e=="string"?ro(e):e;at(E==="/"||((te=Q.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),P=Q}else P=x;let z=P.pathname||"/",Z=z;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");Z="/"+z.replace(/^\//,"").split("/").slice(Q.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:P0(r,{pathname:Z});fi(C||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),fi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=$2(q&&q.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:Ki([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Ki([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s);return e&&Y?K.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function G2(){let r=ew(),e=L2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var K2=K.createElement(G2,null),Q2=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(Zi.Provider,{value:this.props.routeContext},K.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y2({routeContext:r,match:e,children:n}){let s=K.useContext(so);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Zi.Provider,{value:r},n)}function $2(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:C}=n,x=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let C,x=!1,P=null,z=null;n&&(C=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||K2,f&&(m<0&&E===0?(K0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,z=null):m===E&&(x=!0,z=y.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,E+1)),q=()=>{let Y;return C?Y=P:x?Y=z:y.route.Component?Y=K.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,K.createElement(Y2,{match:y,routeContext:{outlet:p,matches:Z,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:q(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):q()},null)}function Pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(r){let e=K.useContext(so);return at(e,Pm(r)),e}function W2(r){let e=K.useContext(Eh);return at(e,Pm(r)),e}function Z2(r){let e=K.useContext(Zi);return at(e,Pm(r)),e}function Lm(r){let e=Z2(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function J2(){return Lm("useRouteId")}function ew(){var s;let r=K.useContext(Vm),e=W2("useRouteError"),n=Lm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function tw(){let{router:r}=X2("useNavigate"),e=Lm("useNavigate"),n=K.useRef(!1);return F0(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{fi(n.current,q0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var e_={};function K0(r,e,n){!e&&!e_[r]&&(e_[r]=!0,fi(!1,n))}K.memo(nw);function nw({routes:r,future:e,state:n}){return G0(r,void 0,n,e)}function lm(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ro(n));let{pathname:p="/",search:y="",hash:E="",state:C=null,key:x="default"}=n,P=K.useMemo(()=>{let z=Hr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:E,state:C,key:x},navigationType:s}},[f,p,y,E,C,x,s]);return fi(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:K.createElement(pi.Provider,{value:m},K.createElement(Yl.Provider,{children:e,value:P}))}function rw({children:r,location:e}){return F2(um(r),e)}function um(r,e=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){n.push.apply(n,um(s.props.children,u));return}at(s.type===lm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=um(s.props.children,u)),n.push(f)}),n}var jc="get",zc="application/x-www-form-urlencoded";function Th(r){return r!=null&&typeof r.tagName=="string"}function sw(r){return Th(r)&&r.tagName.toLowerCase()==="button"}function aw(r){return Th(r)&&r.tagName.toLowerCase()==="form"}function ow(r){return Th(r)&&r.tagName.toLowerCase()==="input"}function lw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,e){return r.button===0&&(!e||e==="_self")&&!lw(r)}var Oc=null;function cw(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(r){return r!=null&&!hw.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):r}function fw(r,e){let n,s,o,u,f;if(aw(r)){let m=r.getAttribute("action");s=m?Hr(m,e):null,n=r.getAttribute("method")||jc,o=$d(r.getAttribute("enctype"))||zc,u=new FormData(r)}else if(sw(r)||ow(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||jc,o=$d(r.getAttribute("formenctype"))||$d(m.getAttribute("enctype"))||zc,u=new FormData(m,r),!cw()){let{name:y,type:E,value:C}=r;if(E==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,C)}}else{if(Th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,s=null,o=zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Um(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function dw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await dw(u,n);return f.links?f.links():[]}return[]}));return _w(s.flat(1).filter(mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function t_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var C;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gw(r,e,{includeHydrateFallback:n}={}){return yw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yw(r){return[...new Set(r)]}function vw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function _w(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ew(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Tw(){let r=K.useContext(so);return Um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bw(){let r=K.useContext(Eh);return Um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jm=K.createContext(void 0);jm.displayName="FrameworkContext";function Q0(){let r=K.useContext(jm);return Um(r,"You must render this element inside a <HydratedRouter> element"),r}function ww(r,e){let n=K.useContext(jm),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:C}=e,x=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=Y=>{Y.forEach(te=>{f(te.isIntersecting)})},q=new IntersectionObserver(Z,{threshold:.5});return x.current&&q.observe(x.current),()=>{q.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let P=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Rl(m,P),onBlur:Rl(p,z),onMouseEnter:Rl(y,P),onMouseLeave:Rl(E,z),onTouchStart:Rl(C,P)}]:[!1,x,{}]}function Rl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Sw({page:r,...e}){let{router:n}=Tw(),s=K.useMemo(()=>P0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(Rw,{page:r,matches:s,...e}):null}function Aw(r){let{manifest:e,routeModules:n}=Q0(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return pw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Rw({page:r,matches:e,...n}){let s=Bs(),{manifest:o,routeModules:u}=Q0(),{loaderData:f,matches:m}=bw(),p=K.useMemo(()=>t_(r,e,m,o,s,"data"),[r,e,m,o,s]),y=K.useMemo(()=>t_(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,z=!1;if(e.forEach(q=>{var te;let Y=o.routes[q.route.id];!Y||!Y.hasLoader||(!p.some(Q=>Q.route.id===q.route.id)&&q.route.id in f&&((te=u[q.route.id])!=null&&te.shouldRevalidate)||Y.hasClientLoader?z=!0:P.add(q.route.id))}),P.size===0)return[];let Z=Ew(r);return z&&P.size>0&&Z.searchParams.set("_routes",e.filter(q=>P.has(q.route.id)).map(q=>q.route.id).join(",")),[Z.pathname+Z.search]},[f,s,o,p,e,r,u]),C=K.useMemo(()=>gw(y,o),[y,o]),x=Aw(y);return K.createElement(K.Fragment,null,E.map(P=>K.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>K.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),x.map(({key:P,link:z})=>K.createElement("link",{key:P,...z})))}function Cw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y0&&(window.__reactRouterVersion="7.2.0")}catch{}function Iw({basename:r,children:e,window:n}){let s=K.useRef();s.current==null&&(s.current=p2({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(iw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var $0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:C,...x},P){let{basename:z}=K.useContext(pi),Z=typeof y=="string"&&$0.test(y),q,Y=!1;if(typeof y=="string"&&Z&&(q=y,Y0))try{let A=new URL(window.location.href),I=y.startsWith("//")?new URL(A.protocol+y):new URL(y),R=Hr(I.pathname,z);I.origin===A.origin&&R!=null?y=R+I.search+I.hash:Y=!0}catch{fi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=B2(y,{relative:o}),[Q,le,ae]=ww(s,x),ce=Ow(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:C});function M(A){e&&e(A),A.defaultPrevented||ce(A)}let b=K.createElement("a",{...x,...ae,href:q||te,onClick:Y||u?e:M,ref:Cw(P,le),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return Q&&!Z?K.createElement(K.Fragment,null,b,K.createElement(Sw,{page:te})):b});X0.displayName="Link";var xw=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let C=Xl(f,{relative:y.relative}),x=Bs(),P=K.useContext(Eh),{navigator:z,basename:Z}=K.useContext(pi),q=P!=null&&Lw(C)&&m===!0,Y=z.encodeLocation?z.encodeLocation(C).pathname:C.pathname,te=x.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),Q=Q?Q.toLowerCase():null,Y=Y.toLowerCase()),Q&&Z&&(Q=Hr(Q,Z)||Q);const le=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ae=te===Y||!o&&te.startsWith(Y)&&te.charAt(le)==="/",ce=Q!=null&&(Q===Y||!o&&Q.startsWith(Y)&&Q.charAt(Y.length)==="/"),M={isActive:ae,isPending:ce,isTransitioning:q},b=ae?e:void 0,A;typeof s=="function"?A=s(M):A=[s,ae?"active":null,ce?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return K.createElement(X0,{...y,"aria-current":b,className:A,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});xw.displayName="NavLink";var Nw=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=jc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:C,...x},P)=>{let z=Vw(),Z=Pw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&$0.test(m),te=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let le=Q.nativeEvent.submitter,ae=(le==null?void 0:le.getAttribute("formmethod"))||f;z(le||Q.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:C})};return K.createElement("form",{ref:P,method:q,action:Z,onSubmit:s?p:te,...x,"data-discover":!Y&&r==="render"?"true":void 0})});Nw.displayName="Form";function Dw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(r){let e=K.useContext(so);return at(e,Dw(r)),e}function Ow(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=H2(),p=Bs(),y=Xl(r,{relative:u});return K.useCallback(E=>{if(uw(E,e)){E.preventDefault();let C=n!==void 0?n:Ul(p)===Ul(y);m(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var Mw=0,kw=()=>`__${String(++Mw)}__`;function Vw(){let{router:r}=W0("useSubmit"),{basename:e}=K.useContext(pi),n=J2();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=fw(s,e);if(o.navigate===!1){let E=o.fetcherKey||kw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Pw(r,{relative:e}={}){let{basename:n}=K.useContext(pi),s=K.useContext(Zi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Xl(r||".",{relative:e})},f=Bs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(C=>C).forEach(C=>m.append("index",C));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),Ul(u)}function Lw(r,e={}){let n=K.useContext(H0);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=W0("useViewTransitionState"),o=Xl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wc(o.pathname,f)!=null||Wc(o.pathname,u)!=null}new TextEncoder;const n_=["aarch64","adonisjs","aftereffects","akka","algolia","alpinejs","amazonwebservices","anaconda","android","androidstudio","angular","angularjs","angularmaterial","ansible","antdesign","apache","apacheairflow","apachekafka","apachespark","apl","appcelerator","apple","appwrite","archlinux","arduino","argocd","astro","atom","awk","axios","azure","azuredevops","azuresqldatabase","babel","backbonejs","ballerina","bamboo","bash","beats","behance","bitbucket","blazor","blender","bootstrap","bower","browserstack","bulma","bun","c","cairo","cakephp","canva","capacitor","carbon","cassandra","centos","ceylon","chrome","circleci","clarity","clion","clojure","clojurescript","cloudflare","cloudflareworkers","cmake","codeac","codecov","codeigniter","codepen","coffeescript","composer","confluence","consul","contao","corejs","cosmosdb","couchbase","couchdb","cplusplus","crystal","csharp","css3","cucumber","cypressio","d3js","dart","datagrip","dataspell","dbeaver","debian","denojs","devicon","digitalocean","discordjs","django","djangorest","docker","doctrine","dot-net","dotnetcore","dreamweaver","dropwizard","drupal","dynamodb","eclipse","ecto","elasticsearch","electron","eleventy","elixir","elm","emacs","embeddedc","ember","envoy","erlang","eslint","express","facebook","fastapi","fastify","faunadb","feathersjs","fedora","figma","filezilla","firebase","firefox","flask","flutter","fortran","foundation","framermotion","framework7","fsharp","gatling","gatsby","gazebo","gcc","gentoo","ghost","gimp","git","gitbook","github","githubactions","githubcodespaces","gitlab","gitpod","gitter","go","godot","goland","google","googlecloud","gradle","grafana","grails","graphql","groovy","grpc","grunt","gulp","hadoop","handlebars","hardhat","harvester","haskell","haxe","helm","heroku","hibernate","homebrew","html5","hugo","ie10","ifttt","illustrator","influxdb","inkscape","insomnia","intellij","ionic","jaegertracing","jamstack","jasmine","java","javascript","jeet","jekyll","jenkins","jest","jetbrains","jetpackcompose","jira","jiraalign","jquery","json","jule","julia","junit","jupyter","k3os","k3s","k6","kaggle","karatelabs","karma","kdeneon","keras","kibana","knexjs","knockout","kotlin","krakenjs","ktor","kubernetes","labview","laravel","latex","less","linkedin","linux","liquibase","livewire","llvm","lodash","logstash","lua","lumen","magento","mariadb","markdown","materializecss","materialui","matlab","matplotlib","maven","maya","meteor","microsoftsqlserver","minitab","mithril","mobx","mocha","modx","moleculer","mongodb","mongoose","moodle","msdos","mysql","nano","neo4j","neovim","nestjs","netlify","networkx","nextjs","nginx","ngrx","nhibernate","nim","nimble","nixos","nodejs","nodemon","nodewebkit","nomad","norg","notion","npm","nuget","numpy","nuxtjs","oauth","objectivec","ocaml","ohmyzsh","okta","openal","openapi","opencl","opencv","opengl","openstack","opensuse","opentelemetry","opera","oracle","ory","p5js","packer","pandas","perl","pfsense","phalcon","phoenix","photonengine","photoshop","php","phpstorm","playwright","plotly","pnpm","podman","poetry","polygon","portainer","postcss","postgresql","postman","powershell","premierepro","prisma","processing","prolog","prometheus","protractor","pulsar","pulumi","puppeteer","purescript","putty","pycharm","pypi","pyscript","pytest","python","pytorch","qodana","qt","quarkus","quasar","qwik","r","rabbitmq","rails","railway","rancher","raspberrypi","reach","react","reactbootstrap","reactnavigation","reactrouter","readthedocs","realm","rect","redhat","redis","redux","renpy","replit","rider","rocksdb","rockylinux","rollup","ros","rspec","rstudio","ruby","rubymine","rust","rxjs","safari","salesforce","sanity","sass","scala","scalingo","scikitlearn","sdl","selenium","sema","sentry","sequelize","shopware","shotgrid","sketch","slack","socketio","solidity","solidjs","sonarqube","sourcetree","spack","splunk","spring","spss","spyder","sqlalchemy","sqldeveloper","sqlite","ssh","stackoverflow","stata","storybook","streamlit","stylus","subversion","supabase","svelte","swagger","swift","swiper","symfony","tailwindcss","tauri","tensorflow","terraform","tex","thealgorithms","threedsmax","threejs","titaniumsdk","tomcat","tortoisegit","towergit","traefikmesh","traefikproxy","travis","trello","trpc","twitter","typescript","typo3","ubuntu","unifiedmodelinglanguage","unity","unix","unrealengine","uwsgi","v8","vagrant","vala","vault","vercel","vertx","vim","visualbasic","visualstudio","vite","vitejs","vitess","vitest","vscode","vsphere","vuejs","vuestorefront","vuetify","vyper","wasm","webflow","weblate","webpack","webstorm","windows11","windows8","woocommerce","wordpress","xamarin","xcode","xd","xml","yaml","yarn","yii","yugabytedb","yunohost","zend","zig"],Uw=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},jw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,C=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(x=64)),s.push(n[E],n[C],n[x],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Z0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||C==null)throw new zw;const x=u<<2|m>>4;if(s.push(x),y!==64){const P=m<<4&240|y>>2;if(s.push(P),C!==64){const z=y<<6&192|C;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bw=function(r){const e=Z0(r);return J0.encodeByteArray(e,!0)},Zc=function(r){return Bw(r).replace(/\./g,"")},eE=function(r){try{return J0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>Hw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eE(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return Uw()||qw()||Fw()||Gw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tE=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Kw=r=>{const e=tE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nE=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},iE=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Xw(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!Xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rS,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?sS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,s)}}function sS(r,e){return r.replace(aS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const aS=/\{\$([^}]+)}/g;function oS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(r_(u)&&r_(f)){if(!Ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function lS(r,e){const n=new uS(r,e);return n.subscribe.bind(n)}class uS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");cS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dS(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(r){return r===ks?void 0:r}function dS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const pS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},gS=Me.INFO,yS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},vS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=yS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _S=(r,e)=>e.some(n=>r instanceof n);let s_,a_;function ES(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,cm=new WeakMap,sE=new WeakMap,Wd=new WeakMap,Bm=new WeakMap;function bS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Pr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rE.set(n,r)}).catch(()=>{}),Bm.set(e,r),e}function wS(r){if(cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});cm.set(r,e)}let hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SS(r){hm=r(hm)}function AS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Zd(this),e,...n);return sE.set(s,e.sort?e.sort():[e]),Pr(s)}:TS().includes(r)?function(...e){return r.apply(Zd(this),e),Pr(rE.get(this))}:function(...e){return Pr(r.apply(Zd(this),e))}}function RS(r){return typeof r=="function"?AS(r):(r instanceof IDBTransaction&&wS(r),_S(r,ES())?new Proxy(r,hm):r)}function Pr(r){if(r instanceof IDBRequest)return bS(r);if(Wd.has(r))return Wd.get(r);const e=RS(r);return e!==r&&(Wd.set(r,e),Bm.set(e,r)),e}const Zd=r=>Bm.get(r);function CS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Pr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Pr(f.result),p.oldVersion,p.newVersion,Pr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const IS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Jd=new Map;function o_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Jd.set(e,u),u}SS(r=>({...r,get:(e,n,s)=>o_(e,n)||r.get(e,n,s),has:(e,n)=>!!o_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",l_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new zm("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",kS="@firebase/analytics",VS="@firebase/app-check-compat",PS="@firebase/app-check",LS="@firebase/auth",US="@firebase/auth-compat",jS="@firebase/database",zS="@firebase/data-connect",BS="@firebase/database-compat",HS="@firebase/functions",qS="@firebase/functions-compat",FS="@firebase/installations",GS="@firebase/installations-compat",KS="@firebase/messaging",QS="@firebase/messaging-compat",YS="@firebase/performance",$S="@firebase/performance-compat",XS="@firebase/remote-config",WS="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",eA="@firebase/firestore",tA="@firebase/vertexai",nA="@firebase/firestore-compat",iA="firebase",rA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",sA={[fm]:"fire-core",[OS]:"fire-core-compat",[kS]:"fire-analytics",[MS]:"fire-analytics-compat",[PS]:"fire-app-check",[VS]:"fire-app-check-compat",[LS]:"fire-auth",[US]:"fire-auth-compat",[jS]:"fire-rtdb",[zS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[HS]:"fire-fn",[qS]:"fire-fn-compat",[FS]:"fire-iid",[GS]:"fire-iid-compat",[KS]:"fire-fcm",[QS]:"fire-fcm-compat",[YS]:"fire-perf",[$S]:"fire-perf-compat",[XS]:"fire-rc",[WS]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[eA]:"fire-fst",[nA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,aA=new Map,mm=new Map;function u_(r,e){try{r.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ya(r){const e=r.name;if(mm.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,r);for(const n of Jc.values())u_(n,r);for(const n of aA.values())u_(n,r);return!0}function Hm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Wl("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=rA;function aE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(n||(n=nE()),!n)throw Lr.create("no-options");const u=Jc.get(o);if(u){if(Ps(n,u.options)&&Ps(s,u.config))return u;throw Lr.create("duplicate-app",{appName:o})}const f=new mS(o);for(const p of mm.values())f.addComponent(p);const m=new lA(n,s,f);return Jc.set(o,m),m}function oE(r=dm){const e=Jc.get(r);if(!e&&r===dm&&nE())return aE();if(!e)throw Lr.create("no-app",{appName:r});return e}function Ur(r,e,n){var s;let o=(s=sA[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}Ya(new Ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebase-heartbeat-database",cA=1,jl="firebase-heartbeat-store";let em=null;function lE(){return em||(em=CS(uA,cA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Lr.create("idb-open",{originalErrorMessage:r.message})})),em}async function hA(r){try{const n=(await lE()).transaction(jl),s=await n.objectStore(jl).get(uE(r));return await n.done,s}catch(e){if(e instanceof Ji)Yi.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(n.message)}}}async function c_(r,e){try{const s=(await lE()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,uE(r)),await s.done}catch(n){if(n instanceof Ji)Yi.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(s.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=1024,dA=30;class mA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>dA){const f=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h_(),{heartbeatsToSend:s,unsentEntries:o}=pA(this._heartbeatsCache.heartbeats),u=Zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yi.warn(n),""}}}function h_(){return new Date().toISOString().substring(0,10)}function pA(r,e=fA){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f_(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function yA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){Ya(new Ls("platform-logger",e=>new NS(e),"PRIVATE")),Ya(new Ls("heartbeat",e=>new mA(e),"PRIVATE")),Ur(fm,l_,r),Ur(fm,l_,"esm2017"),Ur("fire-js","")}vA("");var _A="firebase",EA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(_A,EA,"app");var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,cE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(I,R,O){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return b.prototype[R].apply(I,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,A){A||(A=0);var I=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)I[R]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(R=0;16>R;++R)I[R]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],R=M.g[2];var O=M.g[3],N=b+(O^A&(R^O))+I[0]+3614090360&4294967295;b=A+(N<<7&4294967295|N>>>25),N=O+(R^b&(A^R))+I[1]+3905402710&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(A^O&(b^A))+I[2]+606105819&4294967295,R=O+(N<<17&4294967295|N>>>15),N=A+(b^R&(O^b))+I[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=b+(O^A&(R^O))+I[4]+4118548399&4294967295,b=A+(N<<7&4294967295|N>>>25),N=O+(R^b&(A^R))+I[5]+1200080426&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(A^O&(b^A))+I[6]+2821735955&4294967295,R=O+(N<<17&4294967295|N>>>15),N=A+(b^R&(O^b))+I[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=b+(O^A&(R^O))+I[8]+1770035416&4294967295,b=A+(N<<7&4294967295|N>>>25),N=O+(R^b&(A^R))+I[9]+2336552879&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(A^O&(b^A))+I[10]+4294925233&4294967295,R=O+(N<<17&4294967295|N>>>15),N=A+(b^R&(O^b))+I[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=b+(O^A&(R^O))+I[12]+1804603682&4294967295,b=A+(N<<7&4294967295|N>>>25),N=O+(R^b&(A^R))+I[13]+4254626195&4294967295,O=b+(N<<12&4294967295|N>>>20),N=R+(A^O&(b^A))+I[14]+2792965006&4294967295,R=O+(N<<17&4294967295|N>>>15),N=A+(b^R&(O^b))+I[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=b+(R^O&(A^R))+I[1]+4129170786&4294967295,b=A+(N<<5&4294967295|N>>>27),N=O+(A^R&(b^A))+I[6]+3225465664&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^A&(O^b))+I[11]+643717713&4294967295,R=O+(N<<14&4294967295|N>>>18),N=A+(O^b&(R^O))+I[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(A^R))+I[5]+3593408605&4294967295,b=A+(N<<5&4294967295|N>>>27),N=O+(A^R&(b^A))+I[10]+38016083&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^A&(O^b))+I[15]+3634488961&4294967295,R=O+(N<<14&4294967295|N>>>18),N=A+(O^b&(R^O))+I[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(A^R))+I[9]+568446438&4294967295,b=A+(N<<5&4294967295|N>>>27),N=O+(A^R&(b^A))+I[14]+3275163606&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^A&(O^b))+I[3]+4107603335&4294967295,R=O+(N<<14&4294967295|N>>>18),N=A+(O^b&(R^O))+I[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=b+(R^O&(A^R))+I[13]+2850285829&4294967295,b=A+(N<<5&4294967295|N>>>27),N=O+(A^R&(b^A))+I[2]+4243563512&4294967295,O=b+(N<<9&4294967295|N>>>23),N=R+(b^A&(O^b))+I[7]+1735328473&4294967295,R=O+(N<<14&4294967295|N>>>18),N=A+(O^b&(R^O))+I[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=b+(A^R^O)+I[5]+4294588738&4294967295,b=A+(N<<4&4294967295|N>>>28),N=O+(b^A^R)+I[8]+2272392833&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^A)+I[11]+1839030562&4294967295,R=O+(N<<16&4294967295|N>>>16),N=A+(R^O^b)+I[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=b+(A^R^O)+I[1]+2763975236&4294967295,b=A+(N<<4&4294967295|N>>>28),N=O+(b^A^R)+I[4]+1272893353&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^A)+I[7]+4139469664&4294967295,R=O+(N<<16&4294967295|N>>>16),N=A+(R^O^b)+I[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=b+(A^R^O)+I[13]+681279174&4294967295,b=A+(N<<4&4294967295|N>>>28),N=O+(b^A^R)+I[0]+3936430074&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^A)+I[3]+3572445317&4294967295,R=O+(N<<16&4294967295|N>>>16),N=A+(R^O^b)+I[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=b+(A^R^O)+I[9]+3654602809&4294967295,b=A+(N<<4&4294967295|N>>>28),N=O+(b^A^R)+I[12]+3873151461&4294967295,O=b+(N<<11&4294967295|N>>>21),N=R+(O^b^A)+I[15]+530742520&4294967295,R=O+(N<<16&4294967295|N>>>16),N=A+(R^O^b)+I[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=b+(R^(A|~O))+I[0]+4096336452&4294967295,b=A+(N<<6&4294967295|N>>>26),N=O+(A^(b|~R))+I[7]+1126891415&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~A))+I[14]+2878612391&4294967295,R=O+(N<<15&4294967295|N>>>17),N=A+(O^(R|~b))+I[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=b+(R^(A|~O))+I[12]+1700485571&4294967295,b=A+(N<<6&4294967295|N>>>26),N=O+(A^(b|~R))+I[3]+2399980690&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~A))+I[10]+4293915773&4294967295,R=O+(N<<15&4294967295|N>>>17),N=A+(O^(R|~b))+I[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=b+(R^(A|~O))+I[8]+1873313359&4294967295,b=A+(N<<6&4294967295|N>>>26),N=O+(A^(b|~R))+I[15]+4264355552&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~A))+I[6]+2734768916&4294967295,R=O+(N<<15&4294967295|N>>>17),N=A+(O^(R|~b))+I[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=b+(R^(A|~O))+I[4]+4149444226&4294967295,b=A+(N<<6&4294967295|N>>>26),N=O+(A^(b|~R))+I[11]+3174756917&4294967295,O=b+(N<<10&4294967295|N>>>22),N=R+(b^(O|~A))+I[2]+718787259&4294967295,R=O+(N<<15&4294967295|N>>>17),N=A+(O^(R|~b))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+O&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,I=this.B,R=this.h,O=0;O<b;){if(R==0)for(;O<=A;)o(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<b;)if(I[R++]=M.charCodeAt(O++),R==this.blockSize){o(this,I),R=0;break}}else for(;O<b;)if(I[R++]=M[O++],R==this.blockSize){o(this,I),R=0;break}}this.h=R,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var I=0;32>I;I+=8)M[A++]=this.g[b]>>>I&255;return M};function u(M,b){var A=m;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function f(M,b){this.h=b;for(var A=[],I=!0,R=M.length-1;0<=R;R--){var O=M[R]|0;I&&O==b||(A[R]=O,I=!1)}this.g=A}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return q(y(-M));for(var b=[],A=1,I=0;M>=A;I++)b[I]=M/A|0,A*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return q(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(b,8)),I=C,R=0;R<M.length;R+=8){var O=Math.min(8,M.length-R),N=parseInt(M.substring(R,R+O),b);8>O?(O=y(Math.pow(b,O)),I=I.j(O).add(y(N))):(I=I.j(A),I=I.add(y(N)))}return I}var C=p(0),x=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-q(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var I=this.i(A);M+=(0<=I?I:4294967296+I)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z(this))return"0";if(Z(this))return"-"+q(this).toString(M);for(var b=y(Math.pow(M,6)),A=this,I="";;){var R=le(A,b).g;A=Y(A,R.j(b));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=R,z(A))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function z(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=Y(this,M),Z(M)?-1:z(M)?0:1};function q(M){for(var b=M.g.length,A=[],I=0;I<b;I++)A[I]=~M.g[I];return new f(A,~M.h).add(x)}r.abs=function(){return Z(this)?q(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],I=0,R=0;R<=b;R++){var O=I+(this.i(R)&65535)+(M.i(R)&65535),N=(O>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);I=N>>>16,O&=65535,N&=65535,A[R]=N<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Y(M,b){return M.add(q(b))}r.j=function(M){if(z(this)||z(M))return C;if(Z(this))return Z(M)?q(this).j(q(M)):q(q(this).j(M));if(Z(M))return q(this.j(q(M)));if(0>this.l(P)&&0>M.l(P))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],I=0;I<2*b;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<M.g.length;R++){var O=this.i(I)>>>16,N=this.i(I)&65535,rt=M.i(R)>>>16,Qe=M.i(R)&65535;A[2*I+2*R]+=N*Qe,te(A,2*I+2*R),A[2*I+2*R+1]+=O*Qe,te(A,2*I+2*R+1),A[2*I+2*R+1]+=N*rt,te(A,2*I+2*R+1),A[2*I+2*R+2]+=O*rt,te(A,2*I+2*R+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new f(A,0)};function te(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function Q(M,b){this.g=M,this.h=b}function le(M,b){if(z(b))throw Error("division by zero");if(z(M))return new Q(C,C);if(Z(M))return b=le(q(M),b),new Q(q(b.g),q(b.h));if(Z(b))return b=le(M,q(b)),new Q(q(b.g),b.h);if(30<M.g.length){if(Z(M)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=x,I=b;0>=I.l(M);)A=ae(A),I=ae(I);var R=ce(A,1),O=ce(I,1);for(I=ce(I,2),A=ce(A,2);!z(I);){var N=O.add(I);0>=N.l(M)&&(R=R.add(A),O=N),I=ce(I,1),A=ce(A,1)}return b=Y(M,R.j(b)),new Q(R,b)}for(R=C;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=y(A),N=O.j(b);Z(N)||0<N.l(M);)A-=I,O=y(A),N=O.j(b);z(O)&&(O=x),R=R.add(O),M=Y(M,N)}return new Q(R,M)}r.A=function(M){return le(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)&M.i(I);return new f(A,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)|M.i(I);return new f(A,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)^M.i(I);return new f(A,this.h^M.h)};function ae(M){for(var b=M.g.length+1,A=[],I=0;I<b;I++)A[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(A,M.h)}function ce(M,b){var A=b>>5;b%=32;for(var I=M.g.length-A,R=[],O=0;O<I;O++)R[O]=0<b?M.i(O+A)>>>b|M.i(O+A+1)<<32-b:M.i(O+A);return new f(R,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,jr=f}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hE,xl,fE,Bc,pm,dE,mE,pE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,U={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function C(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function x(c,g,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,x.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function z(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,U,G){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return g.prototype[U].apply(S,se)}}function Z(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const U=c.length||0,G=S.length||0;c.length=U+G;for(let se=0;se<G;se++)c[U+se]=S[se]}else c.push(S)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var ae=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function M(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function b(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function R(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function O(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class rt{constructor(){this.h=this.g=null}add(g,v){const S=Qe.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Qe=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,ze=new rt,k=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){O(v)}var g=Qe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function xe(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ae){e:{try{le(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}z(xe,re);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Hn(c,g,v,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=U,this.key=++Je,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,g,v,S,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=Zr(c,g,S,U);return-1<se?(g=c[se],v||(g.fa=!1)):(g=new Hn(g,this.src,G,!!S,U),g.fa=v,c.push(g)),g};function Wr(c,g){var v=g.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(S,U,1),G&&(er(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Zr(c,g,v,S){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),po={};function lu(c,g,v,S,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)lu(c,g[G],v,S,U);return null}return v=uu(v),c&&c[It]?c.K(g,v,y(S)?!!S.capture:!1,U):yn(c,g,v,!1,S,U)}function yn(c,g,v,S,U,G){if(!g)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Ve=Ys(c);if(Ve||(c[Jr]=Ve=new yi(c)),v=Ve.add(g,v,S,se,G),v.proxy)return v;if(S=Bh(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ge||(U=se),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(es(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bh(){function c(v){return g.call(c.src,c.listener,v)}const g=Hh;return c}function go(c,g,v,S,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)go(c,g[G],v,S,U);else S=y(S)?!!S.capture:!!S,v=uu(v),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=Zr(G,v,S,U),-1<v&&(er(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ys(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zr(g,v,S,U)),(v=-1<c?g[c]:null)&&Qs(v))}function Qs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Wr(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(es(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Ys(g))?(Wr(v,c),v.h==0&&(v.src=null,g[Jr]=null)):er(c)}}}function es(c){return c in po?po[c]:po[c]="on"+c}function Hh(c,g){if(c.da)c=!0;else{g=new xe(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Qs(c),c=v.call(S,g)}return c}function Ys(c){return c=c[Jr],c instanceof yi?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(g){return c.handleEvent(g)}),c[yo])}function lt(){ue.call(this),this.i=new yi(this),this.M=this,this.F=null}z(lt,ue),lt.prototype[It]=!0,lt.prototype.removeEventListener=function(c,g,v,S){go(this,c,g,v,S)};function Fe(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var U=g;g=new re(S,c),I(g,U)}if(U=!0,v)for(var G=v.length-1;0<=G;G--){var se=g.g=v[G];U=an(se,S,!0,g)&&U}if(se=g.g=c,U=an(se,S,!0,g)&&U,U=an(se,S,!1,g)&&U,v)for(G=0;G<v.length;G++)se=g.g=v[G],U=an(se,S,!1,g)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)er(v[S]);delete c.g[g],c.h--}}this.F=null},lt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},lt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function an(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==v){var Ve=se.listener,Tt=se.ha||se.src;se.fa&&Wr(c.i,se),U=Ve.call(Tt,S)!==!1&&U}}return U&&!S.defaultPrevented}function qt(c,g,v){if(typeof c=="function")v&&(c=x(c,v));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function cu(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class qh extends ue{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){ue.call(this),this.h=c,this.g={}}z(ts,ue);var ns=[];function is(c){ce(c.g,function(g,v){this.g.hasOwnProperty(v)&&Qs(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),is(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=m.JSON.stringify,$s=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function vo(){}vo.prototype.h=null;function _o(c){return c.h||(c.h=c.i())}function Eo(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){re.call(this,"d")}z(_i,re);function To(){re.call(this,"c")}z(To,re);var qn={},bo=null;function tr(){return bo=bo||new lt}qn.La="serverreachability";function Xs(c){re.call(this,qn.La,c)}z(Xs,re);function nr(c){const g=tr();Fe(g,new Xs(g))}qn.STAT_EVENT="statevent";function hu(c,g){re.call(this,qn.STAT_EVENT,c),this.stat=g}z(hu,re);function tt(c){const g=tr();Fe(g,new hu(g,c))}qn.Ma="timingevent";function Et(c,g){re.call(this,qn.Ma,c),this.size=g}z(Et,re);function pt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function wo(c,g,v,S,U,G){c.info(function(){if(c.g)if(G)for(var se="",Ve=G.split("&"),Tt=0;Tt<Ve.length;Tt++){var Pe=Ve[Tt].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var bt=Nt.split("_");se=2<=bt.length&&bt[1]=="type"?se+(Nt+"="+Pe+"&"):se+(Nt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+v+`
`+se})}function Fh(c,g,v,S,U,G,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+v+`
`+G+" "+se})}function ir(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ss(c,v)+(S?" "+S:"")})}function fu(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function ss(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Dn(v)}catch{return g}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Gn(){}z(Gn,vo),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Fn=new Gn;function Wt(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var So={},Ws={};function On(c,g,v){c.L=1,c.v=cs(on(g)),c.m=v,c.P=!0,Ti(c,null)}function Ti(c,g){c.F=Date.now(),as(c),c.A=on(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),No(v.i,"t",S),c.C=0,v=c.j.J,c.h=new ht,c.g=Iu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new qh(x(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var G=0;G<U.length;G++){var se=lu(v,U[G],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),nr(),wo(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=bn(this.g);var g=this.g.Ba();const xi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||bt!=4||g==7||(g==8||0>=xi?nr(3):nr(2)),sr(this);var v=this.g.Z();this.X=v;t:if(du(this)){var S=Eu(this.g);c="";var U=S.length,G=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),Kn(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Fh(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ve)){var Pe=Ve;break t}}Pe=null}if(v=Pe)ir(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,v);else{this.o=!1,this.s=3,tt(12),Vt(this),Kn(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<se.length;)if(Pt=mu(this,se),Pt==Ws){bt==4&&(this.s=4,tt(14),v=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==So){this.s=4,tt(15),ir(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else ir(this.i,this.l,Pt,null),os(this,Pt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)ir(this.i,this.l,se,"[Invalid Chunked Response]"),Vt(this),Kn(this);else if(0<se.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),vs(Nt),Nt.M=!0,tt(11))}}else ir(this.i,this.l,se,null),os(this,se);bt==4&&Vt(this),this.o&&!this.J&&(bt==4?Au(this.j,this):(this.o=!1,as(this)))}else $h(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Vt(this),Kn(this)}}}catch{}finally{}};function du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mu(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Ws:(v=Number(g.substring(v,S)),isNaN(v)?So:(S+=1,S+v>g.length?Ws:(g=g.slice(S,S+v),c.C=S+v,g)))}Wt.prototype.cancel=function(){this.J=!0,Vt(this)};function as(c){c.S=Date.now()+c.I,pu(c,c.I)}function pu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(x(c.ba,c),g)}function sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fu(this.i,this.A),this.L!=2&&(nr(),tt(17)),Vt(this),this.s=2,Kn(this)):pu(this,this.S-c)};function Kn(c){c.j.G==0||c.J||Au(c.j,c)}function Vt(c){sr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,is(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function os(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Ao(v.h,c))){if(!c.K&&Ao(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ua(v),oa(v);else break e;Vo(v),tt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=pt(x(v.Za,v),6e3));if(1>=Js(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((c.K||v.g==c)&&ua(v),!te(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let Pe=U[g];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const bt=Pe[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const xi=Pe[5];xi!=null&&typeof xi=="number"&&0<xi&&(S=1.5*xi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Pt=c.g;if(Pt){const Jn=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var G=S.h;G.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ea(G,G.h),G.h=null))}if(S.D){const Lo=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(S.ya=Lo,Ye(S.I,S.D,Lo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var se=c;if(S.qa=Cu(S,S.J?S.ia:null,S.W),se.K){Zt(S.h,se);var Ve=se,Tt=S.L;Tt&&(Ve.I=Tt),Ve.B&&(sr(Ve),as(Ve)),S.g=se}else wu(S);0<v.i.length&&la(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Ii(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ii(v,7):Mo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}nr(4)}catch{}}var gu=class{constructor(c,g){this.g=c,this.map=g}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Js(c){return c.h?1:c.g?c.g.size:0}function Ao(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ea(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}bi.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Z(c.i)}function Gh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function Co(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ta(c),S=Gh(c),U=S.length,G=0;G<U;G++)g.call(void 0,S[G],v&&v[G],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),U=null;if(0<=S){var G=c[v].substring(0,S);U=c[v].substring(S+1)}else G=c[v];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.s),this.l=c.l;var g=c.i,v=new Si;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),wi(this,v),this.m=c.m}else c&&(g=String(c).match(ls))?(this.h=!1,us(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),ar(this,g[4]),this.l=_n(g[5]||"",!0),wi(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}gt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hs(g,Io,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,Io,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(hs(v,v.charAt(0)=="/"?Qh:xo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",hs(v,na)),c.join("")};function on(c){return new gt(c)}function us(c,g,v){c.j=v?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function wi(c,g,v){g instanceof Si?(c.i=g,vu(c.i,c.h)):(v||(g=hs(g,Yh)),c.i=new Si(g,c.h))}function Ye(c,g,v){c.i.set(g,v)}function cs(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,yu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,xo=/[#\?:]/g,Qh=/[#\?]/g,Yh=/[#\?@]/g,na=/#/g;function Si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Si.prototype,r.add=function(c,g){En(this),this.i=null,c=Qn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ai(c,g){En(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ri(c,g){return En(c),g=Qn(c,g),c.g.has(g)}r.forEach=function(c,g){En(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(g,U,S,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const U=c[S];for(let G=0;G<U.length;G++)v.push(g[S])}return v},r.V=function(c){En(this);let g=[];if(typeof c=="string")Ri(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return En(this),this.i=null,c=Qn(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function No(c,g,v){Ai(c,g),0<v.length&&(c.i=null,c.g.set(Qn(c,g),Z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var U=G;se[S]!==""&&(U+="="+encodeURIComponent(String(se[S]))),c.push(U)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function vu(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(Ai(this,S),No(this,U,v))},c)),c.j=g}function fs(c,g){const v=new vn;if(m.Image){const S=new Image;S.onload=P(Tn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=P(Tn,v,"TestLoadImage: error",!1,g,S),S.onabort=P(Tn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(Tn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Mn(c,g){const v=new vn,S=new AbortController,U=setTimeout(()=>{S.abort(),Tn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(U),G.ok?Tn(v,"TestPingServer: ok",!0,g):Tn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Tn(v,"TestPingServer: error",!1,g)})}function Tn(c,g,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function ds(){this.g=new rs}function Yn(c,g,v){const S=v||"";try{Co(c,function(U,G){let se=U;y(U)&&(se=Dn(U)),g.push(S+G+"="+encodeURIComponent(se))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}z(or,vo),or.prototype.g=function(){return new Ci(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Ci(c,g){lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ci,lt),r=Ci.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Xn(this),this.readyState==3&&Do(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let g="";return ce(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function xt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Oo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,g,v))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(He,lt);var ia=/^https?$/i,ms=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?_o(this.o):_o(Fn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){_u(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,g,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){_u(this,G)}};function _u(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ra(c),Wn(c)}function ra(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),bn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=se===0){var U=String(c.D).match(ls)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!ia.test(U?U.toLowerCase():"")}v=S}if(v)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var G=2<bn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ra(c)}}finally{Wn(c)}}}}function Wn(c,g){if(c.g){ps(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{v.onreadystatechange=S}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),$s(g)}};function Eu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=R(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[U]||[];g[U]=G,G.push(v)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function aa(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){tt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Cu(this,null,this.W),la(this)};function Mo(c){if(Tu(c),c.G==3){var g=c.U++,v=on(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),ys(c,v),g=new Wt(c,c.j,g),g.L=2,g.v=cs(on(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),as(g)}Ru(c)}function oa(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function Tu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Zs(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||k(),pe||(oe(),pe=!0),ze.add(g,c),c.B=0}}function Xh(c,g){return Js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(x(c.Ga,c,g),Po(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Wt(this,this.j,c);let G=this.o;if(this.S&&(G?(G=b(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=bu(this,U,g),v=on(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),ys(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Oo(G)))+"&"+g:this.m&&xt(v,this.m,G)),ea(this.h,U),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",g),Ye(v,"SID","null"),U.T=!0,On(U,v,null)):On(U,v,g),this.G=2}}else this.G==3&&(c?ko(this,c):this.i.length==0||Zs(this.h)||ko(this))};function ko(c,g){var v;g?v=g.l:v=c.U++;const S=on(c.I);Ye(S,"SID",c.K),Ye(S,"RID",v),Ye(S,"AID",c.T),ys(c,S),c.m&&c.o&&xt(S,c.m,c.o),v=new Wt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,v),On(v,S,g)}function ys(c,g){c.H&&ce(c.H,function(v,S){Ye(g,S,v)}),c.l&&Co({},function(v,S){Ye(g,S,v)})}function bu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?x(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const se=["count="+v];G==-1?0<v?(G=U[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Ve=!0;for(let Tt=0;Tt<v;Tt++){let Pe=U[Tt].g;const Nt=U[Tt].map;if(Pe-=G,0>Pe)G=Math.max(0,U[Tt].g-100),Ve=!1;else try{Yn(Nt,se,"req"+Pe+"_")}catch{S&&S(Nt)}}if(Ve){S=se.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function wu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||k(),pe||(oe(),pe=!0),ze.add(g,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(x(c.Fa,c),Po(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),oa(this),Su(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Su(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=on(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),ys(c,g),c.m&&c.o&&xt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=cs(on(g)),v.m=null,v.P=!0,Ti(v,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Vo(this),tt(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Au(c,g){var v=null;if(c.g==g){ua(c),vs(c),c.g=null;var S=2}else if(Ao(c.h,g))v=g.D,Zt(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=tr(),Fe(S,new Et(S,v)),la(c)}else wu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Xh(c,g)||S==2&&Vo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Po(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ii(c,g){if(c.j.info("Error code "+g),g==2){var v=x(c.fb,c),S=c.Xa;const U=!S;S=new gt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(S,"https"),cs(S),U?fs(S.toString(),v):Mn(S.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(g),Ru(c),Tu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ru(c){if(c.G=0,c.ka=[],c.l){const g=Ro(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Cu(c,g,v){var S=v instanceof gt?on(v):new gt(v);if(S.g!="")g&&(S.g=g+"."+S.g),ar(S,S.s);else{var U=m.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new gt(null);S&&us(G,S),g&&(G.g=g),U&&ar(G,U),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&Ye(S,v,g),Ye(S,"VER",c.la),ys(c,S),S}function Iu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new He(new or({eb:v})):new He(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){lt.call(this),this.g=new aa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zn(this)}z(Jt,lt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Mo(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Dn(c),c=v);g.i.push(new gu(g.Ya++,c)),g.G==3&&la(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Jt.aa.N.call(this)};function Nu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(Nu,_i);function Du(){To.call(this),this.status=1}z(Du,To);function Zn(c){this.g=c}z(Zn,xu),Zn.prototype.ua=function(){Fe(this.g,"a")},Zn.prototype.ta=function(c){Fe(this.g,new Nu(c))},Zn.prototype.sa=function(c){Fe(this.g,new Du)},Zn.prototype.ra=function(){Fe(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,pE=function(){return new ca},mE=function(){return tr()},dE=qn,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Bc=rr,Ei.COMPLETE="complete",fE=Ei,Eo.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,xl=Eo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,hE=He}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",p_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new zm("@firebase/firestore");function ja(){return Us.logLevel}function he(r,...e){if(Us.logLevel<=Me.DEBUG){const n=e.map(qm);Us.debug(`Firestore (${oo}): ${r}`,...n)}}function $i(r,...e){if(Us.logLevel<=Me.ERROR){const n=e.map(qm);Us.error(`Firestore (${oo}): ${r}`,...n)}}function $a(r,...e){if(Us.logLevel<=Me.WARN){const n=e.map(qm);Us.warn(`Firestore (${oo}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function qe(r,e){r||be()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class bA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new gE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Qt(e)}}class SA{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AA{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new SA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RA{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new g_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function gm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=yE(),f=IA(u.encode(y_(r,n)),u.encode(y_(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(r.length,e.length)}function y_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function IA(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ie(r[n],e[n]);return Ie(r.length,e.length)}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,__=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*__);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v_)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="__name__";class si{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=si.isNumericId(e),o=si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(n)):gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class it extends si{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends si{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new Bt([E_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function NA(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new qr(o,ye.empty(),e)}function DA(r){return new qr(r.readTime,r.key,zl)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Se.min(),ye.empty(),zl)}static max(){return new qr(Se.max(),ye.empty(),zl)}}function OA(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==MA)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function VA(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function Sh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function PA(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="";function LA(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=T_(e)),e=UA(r.get(n),e);return T_(e)}function UA(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _E:n+="";break;default:n+=u}}return n}function T_(r){return r+_E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function EE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ct(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new TE("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const jA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(qe(!!r),typeof r=="string"){let e=0;const n=jA.exec(r);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="server_timestamp",wE="__type__",SE="__previous_value__",AE="__local_write_time__";function Gm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wE])===null||n===void 0?void 0:n.stringValue)===bE}function Ah(r){const e=r.mapValue.fields[SE];return Gm(e)?Ah(e):e}function Bl(r){const e=Fr(r.mapValue.fields[AE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const th="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__type__",BA="__max__",Vc={mapValue:{}},CE="__vector__",nh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:qA(r)?9007199254740991:HA(r)?10:11:be()}function di(r,e){if(r===e)return!0;const n=Kr(r);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bl(r).isEqual(Bl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fr(o.timestampValue),m=Fr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?eh(f)===eh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(b_(f)!==b_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,e);default:return be()}}function ql(r,e){return(r.values||[]).find(n=>di(n,e))!==void 0}function Wa(r,e){if(r===e)return 0;const n=Kr(r),s=Kr(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return S_(r.timestampValue,e.timestampValue);case 4:return S_(Bl(r),Bl(e));case 5:return gm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Gr(u),p=Gr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ie(m[y],p[y]);if(E!==0)return E}return Ie(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(mt(u.latitude),mt(f.latitude));return m!==0?m:Ie(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return A_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const C=u.fields||{},x=f.fields||{},P=(m=C[nh])===null||m===void 0?void 0:m.arrayValue,z=(p=x[nh])===null||p===void 0?void 0:p.arrayValue,Z=Ie(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:A_(P,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let C=0;C<p.length&&C<E.length;++C){const x=gm(p[C],E[C]);if(x!==0)return x;const P=Wa(m[p[C]],y[E[C]]);if(P!==0)return P}return Ie(p.length,E.length)}(r.mapValue,e.mapValue);default:throw be()}}function S_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const n=Fr(r),s=Fr(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function A_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Wa(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function Za(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ym(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ym(n.fields[f])}`;return o+"}"}(r.mapValue):be()}function Hc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(r);return e?16+Hc(e):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Hc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hs(s.fields,(u,f)=>{o+=u.length+Hc(f)}),o}(r.mapValue);default:throw be()}}function vm(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function R_(r){return!!r&&"nullValue"in r}function C_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function HA(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[RE])===null||n===void 0?void 0:n.stringValue)===CE}function Ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ml(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(r.arrayValue.values[n]);return e}return Object.assign({},r)}function qA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ml(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Hs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Nn(Ml(this.value))}}function IE(r){const e=[];return Hs(r.fields,(n,s)=>{const o=new Bt([n]);if(qc(s)){const u=IE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),Nn.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function I_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function x_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{}class At extends xE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new KA(e,n,s):n==="array-contains"?new $A(e,s):n==="in"?new XA(e,s):n==="not-in"?new WA(e,s):n==="array-contains-any"?new ZA(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QA(e,s):new YA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends xE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mi(e,n)}matches(e){return NE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NE(r){return r.op==="and"}function DE(r){return GA(r)&&NE(r)}function GA(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function _m(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(DE(r))return r.filters.map(e=>_m(e)).join(",");{const e=r.filters.map(n=>_m(n)).join(",");return`${r.op}(${e})`}}function OE(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,e):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&OE(f,o.filters[m]),!0):!1}(r,e):void be()}function ME(r){return r instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(ME).join(" ,")+"}"}(r):"Filter"}class KA extends At{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class QA extends At{constructor(e,n){super(e,"in",n),this.keys=kE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YA extends At{constructor(e,n){super(e,"not-in",n),this.keys=kE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class $A extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&ql(n.arrayValue,this.value)}}class XA extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class WA extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ql(this.value.arrayValue,n)}}class ZA extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function N_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new JA(r,e,n,s,o,u,f)}function Qm(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_m(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Za(s)).join(",")),e.le=n}return e.le}function Ym(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FA(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!OE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!x_(r.startAt,e.startAt)&&x_(r.endAt,e.endAt)}function Em(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eR(r,e,n,s,o,u,f,m){return new Rh(r,e,n,s,o,u,f,m)}function $m(r){return new Rh(r)}function D_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tR(r){return r.collectionGroup!==null}function kl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new rh(u,s))}),n.has(Bt.keyField().canonicalString())||e.he.push(new rh(Bt.keyField(),s))}return e.he}function oi(r){const e=Ae(r);return e.Pe||(e.Pe=nR(e,kl(r))),e.Pe}function nR(r,e){if(r.limitType==="F")return N_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new rh(o.field,u)});const n=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return N_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Tm(r,e,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return Ym(oi(r),oi(e))&&r.limitType===e.limitType}function VE(r){return`${Qm(oi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>ME(o)).join(", ")}]`),Sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=I_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,kl(s),o)||s.endAt&&!function(f,m,p){const y=I_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,kl(s),o))}(r,e)}function iR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(e,n)=>{let s=!1;for(const o of kl(r)){const u=rR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rR(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Wa(p,y):be()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return EE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new ot(ye.comparator);function Xi(){return sR}const LE=new ot(ye.comparator);function Nl(...r){let e=LE;for(const n of r)e=e.insert(n.key,n);return e}function UE(r){let e=LE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vs(){return Vl()}function jE(){return Vl()}function Vl(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const aR=new ot(ye.comparator),oR=new Ct(ye.comparator);function ke(...r){let e=oR;for(const n of r)e=e.add(n);return e}const lR=new Ct(Ie);function uR(){return lR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function zE(r){return{integerValue:""+r}}function cR(r,e){return PA(e)?zE(e):Xm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function hR(r,e,n){return r instanceof sh?function(o,u){const f={fields:{[wE]:{stringValue:bE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gm(u)&&(u=Ah(u)),u&&(f.fields[SE]=u),{mapValue:f}}(n,e):r instanceof Fl?HE(r,e):r instanceof Gl?qE(r,e):function(o,u){const f=BE(o,u),m=O_(f)+O_(o.Ie);return vm(f)&&vm(o.Ie)?zE(m):Xm(o.serializer,m)}(r,e)}function fR(r,e,n){return r instanceof Fl?HE(r,e):r instanceof Gl?qE(r,e):n}function BE(r,e){return r instanceof ah?function(s){return vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class sh extends xh{}class Fl extends xh{constructor(e){super(),this.elements=e}}function HE(r,e){const n=FE(e);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Gl extends xh{constructor(e){super(),this.elements=e}}function qE(r,e){let n=FE(e);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class ah extends xh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O_(r){return mt(r.integerValue||r.doubleValue)}function FE(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Fl&&o instanceof Fl||s instanceof Gl&&o instanceof Gl?Xa(s.elements,o.elements,di):s instanceof ah&&o instanceof ah?di(s.Ie,o.Ie):s instanceof sh&&o instanceof sh}(r.transform,e.transform)}class mR{constructor(e,n){this.version=e,this.transformResults=n}}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nh{}function GE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wm(r.key,li.none()):new Jl(r.key,r.data,li.none());{const n=r.data,s=Nn.empty();let o=new Ct(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Fs(r.key,s,new Un(o.toArray()),li.none())}}function pR(r,e,n){r instanceof Jl?function(o,u,f){const m=o.value.clone(),p=k_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Fs?function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=k_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Pl(r,e,n,s){return r instanceof Jl?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=u.value.clone(),E=V_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Fs?function(u,f,m,p){if(!Fc(u.precondition,f))return m;const y=V_(u.fieldTransforms,p,f),E=f.data;return E.setAll(KE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(r,e,n,s):function(u,f,m){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function gR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=BE(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function M_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>dR(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Jl extends Nh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends Nh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function k_(r,e,n){const s=new Map;qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,fR(f,m,n[o]))}return s}function V_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,hR(u,f,e))}return s}class Wm extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>M_(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>M_(n,s))}}class Zm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return aR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function TR(r){switch(r){case ie.OK:return be();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be()}}function QE(r){if(r===void 0)return $i("GRPC error has no .code"),ie.UNKNOWN;switch(r){case _t.OK:return ie.OK;case _t.CANCELLED:return ie.CANCELLED;case _t.UNKNOWN:return ie.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ie.INTERNAL;case _t.UNAVAILABLE:return ie.UNAVAILABLE;case _t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case _t.NOT_FOUND:return ie.NOT_FOUND;case _t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case _t.ABORTED:return ie.ABORTED;case _t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case _t.DATA_LOSS:return ie.DATA_LOSS;default:return be()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new jr([4294967295,4294967295],0);function P_(r){const e=yE().encode(r),n=new cE;return n.update(e),new Uint8Array(n.digest())}function L_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new jr([n,s],0),new jr([o,u],0)]}class Jm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=jr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(jr.fromNumber(s)));return o.compare(bR)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=P_(e),[s,o]=L_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Jm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=P_(e),[s,o]=L_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dh(Se.min(),o,new ot(Ie),Xi(),ke())}}class eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new eu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class YE{constructor(e,n){this.targetId=e,this.ge=n}}class $E{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.pe=0,this.ye=j_(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new eu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=j_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xi(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new ot(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Em(u))if(s===0){const f=new ye(u.path);this.ze(n,f,Yt.newNoDocument(f,Se.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(p){if(p instanceof TE)return $a("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jm(f,o,u)}catch(p){return $a(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Em(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Dh(e,n,this.Ke,this.Qe,s);return this.Qe=Xi(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new ot(Ie),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new U_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ct(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new ot(ye.comparator)}function j_(){return new ot(ye.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RR={and:"AND",or:"OR"};class CR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bm(r,e){return r.useProto3Json||Sh(e)?e:{value:e}}function oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function IR(r,e){return oh(r,e.toTimestamp())}function ui(r){return qe(!!r),Se.fromTimestamp(function(n){const s=Fr(n);return new Rt(s.seconds,s.nanos)}(r))}function ep(r,e){return wm(r,e).canonicalString()}function wm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function WE(r){const e=it.fromString(r);return qe(nT(e)),e}function Sm(r,e){return ep(r.databaseId,e.path)}function tm(r,e){const n=WE(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(JE(n))}function ZE(r,e){return ep(r.databaseId,e)}function xR(r){const e=WE(r);return e.length===4?it.emptyPath():JE(e)}function Am(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function z_(r,e,n){return{name:Sm(r,e),fields:n.value.mapValue.fields}}function NR(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ie.UNKNOWN:QE(y.code);return new me(E,y.message||"")}(f);n=new $E(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(r,s.document.name),u=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):Se.min(),m=new Nn({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Gc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tm(r,s.document),u=s.readTime?ui(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tm(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ER(o,u),m=s.targetId;n=new YE(m,f)}}return n}function DR(r,e){let n;if(e instanceof Jl)n={update:z_(r,e.key,e.value)};else if(e instanceof Wm)n={delete:Sm(r,e.key)};else if(e instanceof Fs)n={update:z_(r,e.key,e.data),updateMask:zR(e.fieldMask)};else{if(!(e instanceof yR))return be();n={verify:Sm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:IR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(r,e.precondition)),n}function OR(r,e){return r&&r.length>0?(qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ui(o.updateTime):ui(u);return f.isEqual(Se.min())&&(f=ui(u)),new mR(f,o.transformResults||[])}(n,e))):[]}function MR(r,e){return{documents:[ZE(r,e.path)]}}function kR(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZE(r,o);const u=function(y){if(y.length!==0)return tT(mi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(x){return{field:Ba(x.field),direction:LR(x.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=bm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function VR(r){let e=xR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(C){const x=eT(C);return x instanceof mi&&DE(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(x=>function(z){return new rh(Ha(z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(C){let x;return x=typeof C=="object"?C.value:C,Sh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(C){const x=!!C.before,P=C.values||[];return new ih(P,x)}(n.startAt));let y=null;return n.endAt&&(y=function(C){const x=!C.before,P=C.values||[];return new ih(P,x)}(n.endAt)),eR(e,o,f,u,m,"F",p,y)}function PR(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(r):r.fieldFilter!==void 0?function(n){return At.create(Ha(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>eT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(r):be()}function LR(r){return SR[r]}function UR(r){return AR[r]}function jR(r){return RR[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Bt.fromServerFormat(r.fieldPath)}function tT(r){return r instanceof At?function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:UR(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>tT(o));return s.length===1?s[0]:{compositeFilter:{op:jR(n.op),filters:s}}}(r):be()}function zR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Tt=e}}function HR(r){const e=VR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.Tn=new FR}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(qr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class FR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iT=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(iT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ja(0)}static Kn(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",GR=1048576;function q_([r,e],[n,s]){const o=Ie(r,n);return o===0?Ie(e,s):o}class KR{constructor(e){this.Hn=e,this.buffer=new Ct(q_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();q_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(H_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?he(H_,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.er(3e5)})}}class YR{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(wh.ae);const s=new KR(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(B_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(u=C,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(y=Date.now(),ja()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${C} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C})))}}function $R(r,e){return new YR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.changes=new qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Pl(s.mutation,o,Un.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=Vs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Nl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Vs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Xi();const f=Vl(),m=function(){return Vl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Fs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var C;return m.set(y,new WR(E,(C=f.get(y))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Vl();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Un.empty();E=m.applyToLocalView(y,E),s.set(p,E);const C=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,C)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,C=jE();E.forEach(x=>{if(!u.has(x)){const P=GE(n.get(x),s.get(x));P!==null&&C.set(x,P),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Vs());let m=zl,p=u;return f.next(y=>ee.forEach(y,(E,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{p=p.insert(E,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ke())).next(E=>({batchId:m,changes:UE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const y=function(C,x){return new Rh(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((C,x)=>{f=f.insert(C,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=Nl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Pl(E.mutation,y,Un.empty(),Rt.now()),Ih(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:HR(o.bundledQuery),readTime:ui(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Vs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Vs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Vs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new _R(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.Vr=new Ct(kt.mr),this.gr=new Ct(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new kt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new it([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new it([])),s=new kt(n,e),o=new kt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(kt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Fm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ie);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new kt(new ye(u),0);let m=new Ct(Ie);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new kt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Xi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Xi();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||OA(DA(E),s)<=0||(o.has(E.key)||Ih(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rC(this)}getSize(e){return ee.resolve(this.size)}}class rC extends XR{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Qr=new qs(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tp,this.targetCount=0,this.Kr=Ja.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new wh(0),this.zr=!1,this.zr=!0,this.jr=new tC,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new qR,this.remoteDocumentCache=function(o){return new iC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new BR(n),this.Yr=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new nC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new aC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class aC extends kA{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.ti=new tp,this.ni=null}static ri(e){return new np(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.oi=new qs(s=>LA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$R(this,n)}static ri(e,n){return new lh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hc(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ip(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tS()?8:VA($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ja()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(ja()<=Me.DEBUG&&he("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ja()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):ee.resolve())}rs(e,n){if(D_(n))return ee.resolve(null);let s=oi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Tm(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Tm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return D_(n)||o.isEqual(Se.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(ja()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(n)),this.hs(e,f,n,NA(o,zl)).next(m=>m))})}cs(e,n){let s=new Ct(PE(e));return n.forEach((o,u)=>{Ih(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ja()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",za(n)),this.ns.getDocumentsMatchingQuery(e,n,qr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="LocalStore",uC=3e8;class cC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Ie),this.Is=new qs(u=>Qm(u),Ym),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hC(r,e,n,s){return new cC(r,e,n,s)}async function sT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function fC(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const C=y.batch,x=C.keys();let P=ee.resolve();return x.forEach(z=>{P=P.next(()=>E.getEntry(p,z)).next(Z=>{const q=y.docVersions.get(z);qe(q!==null),Z.version.compareTo(q)<0&&(C.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,C))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function aT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dC(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,C)=>{const x=o.get(C);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,C).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,C)));let P=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?P=P.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(C,P),function(Z,q,Y){return Z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=uC?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(x,P,E)&&m.push(n.Hr.updateTargetData(u,P))});let p=Xi(),y=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(C=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function mC(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Xi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function pC(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gC(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Rm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!uo(f))throw f;he(rp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function F_(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const C=Ae(p),x=C.Is.get(E);return x!==void 0?ee.resolve(C.Ts.get(x)):C.Hr.getTargetData(y,E)}(s,f,oi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke())).next(m=>(yC(s,iR(e),m),{documents:m,gs:u})))}function yC(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class G_{constructor(){this.activeTargetIds=uR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vC{constructor(){this.ho=new G_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new G_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class Q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(K_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Cm(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Cm(),m=this.bo(e,n.toUriEncodedString());he(nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(he(nm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw $a(nm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=EC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class wC extends TC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Cm();return new Promise((f,m)=>{const p=new hE;p.setWithCredentials(!0),p.listenOnce(fE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Bc.NO_ERROR:const E=p.getResponseJson();he(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Bc.TIMEOUT:he(Kt,`RPC '${e}' ${u} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const C=p.getStatus();if(he(Kt,`RPC '${e}' ${u} failed with status:`,C,"response text:",p.getResponseText()),C>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x==null?void 0:x.error;if(P&&P.status&&P.message){const z=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN}(P.status);m(new me(z,P.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);he(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Cm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pE(),m=mE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const C=f.createWebChannel(E,p);let x=!1,P=!1;const z=new bC({Fo:q=>{P?he(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(he(Kt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),x=!0),he(Kt,`RPC '${e}' stream ${o} sending:`,q),C.send(q))},Mo:()=>C.close()}),Z=(q,Y,te)=>{q.listen(Y,Q=>{try{te(Q)}catch(le){setTimeout(()=>{throw le},0)}})};return Z(C,xl.EventType.OPEN,()=>{P||(he(Kt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),Z(C,xl.EventType.CLOSE,()=>{P||(P=!0,he(Kt,`RPC '${e}' stream ${o} transport closed`),z.Uo())}),Z(C,xl.EventType.ERROR,q=>{P||(P=!0,$a(Kt,`RPC '${e}' stream ${o} transport errored:`,q),z.Uo(new me(ie.UNAVAILABLE,"The operation could not be completed")))}),Z(C,xl.EventType.MESSAGE,q=>{var Y;if(!P){const te=q.data[0];qe(!!te);const Q=te,le=(Q==null?void 0:Q.error)||((Y=Q[0])===null||Y===void 0?void 0:Y.error);if(le){he(Kt,`RPC '${e}' stream ${o} received error:`,le);const ae=le.status;let ce=function(A){const I=_t[A];if(I!==void 0)return QE(I)}(ae),M=le.message;ce===void 0&&(ce=ie.INTERNAL,M="Unknown error status: "+ae+" with message "+le.message),P=!0,z.Uo(new me(ce,M)),C.close()}else he(Kt,`RPC '${e}' stream ${o} received:`,te),z.Ko(te)}}),Z(m,dE.STAT_EVENT,q=>{q.stat===pm.PROXY?he(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===pm.NOPROXY&&he(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){return new CR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class lT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new oT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SC extends lT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=NR(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ui(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Am(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Em(p)?{documents:MR(u,p)}:{query:kR(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XE(u,f.resumeToken);const y=bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=oh(u,f.snapshotVersion.toTimestamp());const y=bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=PR(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Am(this.serializer),n.removeTarget=e,this.I_(n)}}class AC extends lT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=OR(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Am(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>DR(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class CC extends RC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,wm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,wm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ie.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class IC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class xC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Gs(this)&&(he(js,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.W_.add(4),await tu(y),y.j_.set("Unknown"),y.W_.delete(4),await Mh(y)}(this))})}),this.j_=new IC(s,o)}}async function Mh(r){if(Gs(r))for(const e of r.G_)await e(!0)}async function tu(r){for(const e of r.G_)await e(!1)}function uT(r,e){const n=Ae(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),lp(n)?op(n):co(n).c_()&&ap(n,e))}function sp(r,e){const n=Ae(r),s=co(n);n.K_.delete(e),s.c_()&&cT(n,e),n.K_.size===0&&(s.c_()?s.P_():Gs(n)&&n.j_.set("Unknown"))}function ap(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(r).y_(e)}function cT(r,e){r.H_.Ne(e),co(r).w_(e)}function op(r){r.H_=new wR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),co(r).start(),r.j_.B_()}function lp(r){return Gs(r)&&!co(r).u_()&&r.K_.size>0}function Gs(r){return Ae(r).W_.size===0}function hT(r){r.H_=void 0}async function NC(r){r.j_.set("Online")}async function DC(r){r.K_.forEach((e,n)=>{ap(r,e)})}async function OC(r,e){hT(r),lp(r)?(r.j_.q_(e),op(r)):r.j_.set("Unknown")}async function MC(r,e,n){if(r.j_.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){he(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uh(r,s)}else if(e instanceof Gc?r.H_.We(e):e instanceof YE?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await aT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),cT(u,p);const C=new kr(E.target,p,y,E.sequenceNumber);ap(u,C)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){he(js,"Failed to raise snapshot:",s),await uh(r,s)}}async function uh(r,e,n){if(!uo(e))throw e;r.W_.add(1),await tu(r),r.j_.set("Offline"),n||(n=()=>aT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(js,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Mh(r)})}function fT(r,e){return e().catch(n=>uh(r,n,e))}async function kh(r){const e=Ae(r),n=Qr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Fm;for(;kC(e);)try{const o=await pC(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,VC(e,o)}catch(o){await uh(e,o)}dT(e)&&mT(e)}function kC(r){return Gs(r)&&r.U_.length<10}function VC(r,e){r.U_.push(e);const n=Qr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function dT(r){return Gs(r)&&!Qr(r).u_()&&r.U_.length>0}function mT(r){Qr(r).start()}async function PC(r){Qr(r).C_()}async function LC(r){const e=Qr(r);for(const n of r.U_)e.b_(n.mutations)}async function UC(r,e,n){const s=r.U_.shift(),o=Zm.from(s,e,n);await fT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await kh(r)}async function jC(r,e){e&&Qr(r).S_&&await async function(s,o){if(function(f){return TR(f)&&f!==ie.ABORTED}(o.code)){const u=s.U_.shift();Qr(s).h_(),await fT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await kh(s)}}(r,e),dT(r)&&mT(r)}async function $_(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),he(js,"RemoteStore received new credentials");const s=Gs(n);n.W_.add(3),await tu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Mh(n)}async function zC(r,e){const n=Ae(r);e?(n.W_.delete(2),await Mh(n)):e||(n.W_.add(2),await tu(n),n.j_.set("Unknown"))}function co(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new SC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:NC.bind(null,r),No:DC.bind(null,r),Lo:OC.bind(null,r),p_:MC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),lp(r)?op(r):r.j_.set("Unknown")):(await r.J_.stop(),hT(r))})),r.J_}function Qr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new AC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:PC.bind(null,r),Lo:jC.bind(null,r),D_:LC.bind(null,r),v_:UC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await kh(r)):(await r.Y_.stop(),r.U_.length>0&&(he(js,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new up(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(r,e){if($i("AsyncQueue",`${e}: ${r}`),uo(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class eo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new eo(e,n,Fa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class HC{constructor(){this.queries=W_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=W_(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function W_(){return new qs(r=>VE(r),Ch)}async function pT(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new BC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=cp(f,`Initialization of query '${za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&hp(n)}async function gT(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qC(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&hp(n)}function FC(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function hp(r){r.ia.forEach(e=>{e.next()})}var Im,Z_;(Z_=Im||(Im={}))._a="default",Z_.Cache="cache";class yT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class GC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=PE(e),this.wa=new Fa(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new X_,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,C)=>{const x=o.get(E),P=Ih(this.query,C)?C:null,z=!!x&&this.mutatedKeys.has(x.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;x&&P?x.data.isEqual(P.data)?z!==Z&&(s.track({type:3,doc:P}),q=!0):this.va(x,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.ya(P,p)>0||y&&this.ya(P,y)<0)&&(m=!0)):!x&&P?(s.track({type:0,doc:P}),q=!0):x&&!P&&(s.track({type:1,doc:x}),q=!0,(p||y)&&(m=!0)),q&&(P?(f=f.add(P),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,C)=>function(P,z){const Z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return Z(P)-Z(z)}(E.type,C.type)||this.ya(E.doc,C.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new eo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new _T(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new vT(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fp="SyncEngine";class KC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QC{constructor(e){this.key=e,this.Ba=!1}}class YC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new qs(m=>VE(m),Ch),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ua=new Map,this.Ka=new tp,this.Wa={},this.Ga=new Map,this.za=Ja.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $C(r,e,n=!0){const s=AT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await ET(s,e,n,!0),o}async function XC(r,e){const n=AT(r);await ET(n,e,!0,!1)}async function ET(r,e,n,s){const o=await gC(r.localStore,oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&uT(r.remoteStore,o),m}async function WC(r,e,n,s,o){r.Ha=(C,x,P)=>async function(Z,q,Y,te){let Q=q.view.ba(Y);Q.ls&&(Q=await F_(Z.localStore,q.query,!1).then(({documents:M})=>q.view.ba(M,Q)));const le=te&&te.targetChanges.get(q.targetId),ae=te&&te.targetMismatches.get(q.targetId)!=null,ce=q.view.applyChanges(Q,Z.isPrimaryClient,le,ae);return e0(Z,q.targetId,ce.Ma),ce.snapshot}(r,C,x,P);const u=await F_(r.localStore,e,!0),f=new GC(e,u.gs),m=f.ba(u.documents),p=eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);e0(r,n,y.Ma);const E=new KC(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function ZC(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&sp(s.remoteStore,o.targetId),xm(s,o.targetId)}).catch(lo)):(xm(s,o.targetId),await Rm(s.localStore,o.targetId,!0))}async function JC(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sp(n.remoteStore,s.targetId))}async function eI(r,e,n){const s=oI(r);try{const o=await function(f,m){const p=Ae(f),y=Rt.now(),E=m.reduce((P,z)=>P.add(z.key),ke());let C,x;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let z=Xi(),Z=ke();return p.ds.getEntries(P,E).next(q=>{z=q,z.forEach((Y,te)=>{te.isValidDocument()||(Z=Z.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,z)).next(q=>{C=q;const Y=[];for(const te of m){const Q=gR(te,C.get(te.key).overlayedDocument);Q!=null&&Y.push(new Fs(te.key,Q,IE(Q.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Y,m)}).next(q=>{x=q;const Y=q.applyToLocalDocumentSet(C,Z);return p.documentOverlayCache.saveOverlays(P,q.batchId,Y)})}).then(()=>({batchId:x.batchId,changes:UE(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ot(Ie)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await nu(s,o.changes),await kh(s.remoteStore)}catch(o){const u=cp(o,"Failed to persist write");n.reject(u)}}async function TT(r,e){const n=Ae(r);try{const s=await dC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await nu(n,s,e)}catch(s){await lo(s)}}function J_(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach((E,C)=>{for(const x of C.ta)x.sa(m)&&(y=!0)}),y&&hp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tI(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new Dh(Se.min(),new Map,new ot(Ie),f,m);await TT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),dp(s)}else await Rm(s.localStore,e,!1).then(()=>xm(s,e,n)).catch(lo)}async function nI(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await fC(n.localStore,e);wT(n,s,null),bT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nu(n,o)}catch(o){await lo(o)}}async function iI(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(C=>(qe(C!==null),E=C.keys(),p.mutationQueue.removeMutationBatch(y,C))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);wT(s,e,n),bT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await nu(s,o)}catch(o){await lo(o)}}function bT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function wT(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function xm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||ST(r,s)})}function ST(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(sp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),dp(r))}function e0(r,e,n){for(const s of n)s instanceof vT?(r.Ka.addReference(s.key,e),rI(r,s)):s instanceof _T?(he(fp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||ST(r,s.key)):be()}function rI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(he(fp,"New document in limbo: "+n),r.Qa.add(s),dp(r))}function dp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(it.fromString(e)),s=r.za.next();r.Ua.set(s,new QC(n)),r.$a=r.$a.insert(n,s),uT(r.remoteStore,new kr(oi($m(n.path)),s,"TargetPurposeLimboResolution",wh.ae))}}async function nu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const C=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(y){o.push(y);const C=ip.Yi(p.targetId,y);u.push(C)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ee.forEach(y,x=>ee.forEach(x.Hi,P=>E.persistence.referenceDelegate.addReference(C,x.targetId,P)).next(()=>ee.forEach(x.Ji,P=>E.persistence.referenceDelegate.removeReference(C,x.targetId,P)))))}catch(C){if(!uo(C))throw C;he(rp,"Failed to update sequence numbers: "+C)}for(const C of y){const x=C.targetId;if(!C.fromCache){const P=E.Ts.get(x),z=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(z);E.Ts=E.Ts.insert(x,Z)}}}(s.localStore,u))}async function sI(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){he(fp,"User change. New user:",e.toKey());const s=await sT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ie.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(n,s.Rs)}}function aI(r,e){const n=Ae(r),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function AT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tI.bind(null,e),e.La.p_=qC.bind(null,e.eventManager),e.La.Ja=FC.bind(null,e.eventManager),e}function oI(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hC(this.persistence,new lC,e.initialUser,this.serializer)}Xa(e){return new rT(np.ri,this.serializer)}Za(e){return new vC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class lI extends ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof lh);const s=this.persistence.referenceDelegate.garbageCollector;return new QR(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new rT(s=>lh.ri(s,n),this.serializer)}}class Nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sI.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HC}()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),s=function(u){return new wC(u)}(e.databaseInfo);return function(u,f,m,p){return new CC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new xC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>J_(this.syncEngine,n,0),function(){return Q_.D()?new Q_:new _C}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const C=new YC(o,u,f,m,p,y);return E&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);he(js,"RemoteStore shutting down."),u.W_.add(5),await tu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class uI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=vE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=cp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await sT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function t0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await cI(r);he(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>$_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>$_(e.remoteStore,o)),r._onlineComponents=e}async function cI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Yr,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new ch)}}else he(Yr,"Using default OfflineComponentProvider"),await rm(r,new lI(void 0));return r._offlineComponents}async function CT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Yr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(he(Yr,"Using default OnlineComponentProvider"),await t0(r,new Nm))),r._onlineComponents}function hI(r){return CT(r).then(e=>e.syncEngine)}async function IT(r){const e=await CT(r),n=e.eventManager;return n.onListen=$C.bind(null,e.syncEngine),n.onUnlisten=ZC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JC.bind(null,e.syncEngine),n}function fI(r,e,n={}){const s=new Qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new RT({next:x=>{E.su(),f.enqueueAndForget(()=>gT(u,C));const P=x.docs.has(m);!P&&x.fromCache?y.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&p&&p.source==="server"?y.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new yT($m(m.path),E,{includeMetadataChanges:!0,Ta:!0});return pT(u,C)}(await IT(r),r.asyncQueue,e,n,s)),s.promise}function dI(r,e,n={}){const s=new Qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new RT({next:x=>{E.su(),f.enqueueAndForget(()=>gT(u,C)),x.fromCache&&p.source==="server"?y.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new yT(m,E,{includeMetadataChanges:!0,Ta:!0});return pT(u,C)}(await IT(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mI(r,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function i0(r){if(!ye.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r0(r){if(ye.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be()}function $r(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",s0=!0;class a0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=s0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:s0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GR)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new TA;switch(s.type){case"firstParty":return new AA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=n0.get(n);s&&(he("ComponentProvider","Removing Datastore"),n0.delete(n),s.terminate())}(this),Promise.resolve()}}function pI(r,e,n,s={}){var o;const u=(r=$r(r,Vh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==DT&&u.host!==m&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ps(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qt.MOCK_USER;else{y=Yw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qt(C)}r._authCredentials=new bA(new gE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class zr extends Ph{constructor(e,n,s){super(e,n,$m(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ye(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function ho(r,e,...n){if(r=gn(r),NT("collection","path",e),r instanceof Vh){const s=it.fromString(e,...n);return r0(s),new zr(r,null,s)}{if(!(r instanceof pn||r instanceof zr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return r0(s),new zr(r.firestore,null,s)}}function to(r,e,...n){if(r=gn(r),arguments.length===1&&(e=vE.newId()),NT("doc","path",e),r instanceof Vh){const s=it.fromString(e,...n);return i0(s),new pn(r,null,new ye(s))}{if(!(r instanceof pn||r instanceof zr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return i0(s),new pn(r.firestore,r instanceof zr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class l0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new oT(this,"async_queue_retry"),this.Su=()=>{const s=im();s&&he(o0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!uo(e))throw e;he(o0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw $i("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=up.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class iu extends Vh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new l0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l0(e),this._firestoreClient=void 0,await e}}}function gI(r,e){const n=typeof r=="object"?r:oE(),s=typeof r=="string"?r:th,o=Hm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Kw("firestore");u&&pI(o,...u)}return o}function pp(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yI(r),r._firestoreClient}function yI(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new zA(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(Ht.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=/^__.*__$/;class _I{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}function MT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class _p{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return hh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MT(this.Lu)&&vI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class EI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Oh(e)}ju(e,n,s,o=!1){return new _p({Lu:e,methodName:n,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TI(r){const e=r._freezeSettings(),n=Oh(r._databaseId);return new EI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bI(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);LT("Data must be an object, but it was:",f,s);const m=VT(s,f);let p,y;if(u.merge)p=new Un(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const C of u.mergeFields){const x=wI(e,C,n);if(!f.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);AI(E,x)||E.push(x)}p=new Un(E),y=f.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,y=f.fieldTransforms;return new _I(new Nn(m),p,y)}function kT(r,e){if(PT(r=gn(r)))return LT("Unsupported field value:",e,r),VT(r,e);if(r instanceof OT)return function(s,o){if(!MT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=kT(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:oh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oh(o.serializer,u)}}if(s instanceof yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof no)return{bytesValue:XE(o.serializer,s._byteString)};if(s instanceof pn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ep(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vp)return function(f,m){return{mapValue:{fields:{[RE]:{stringValue:CE},[nh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Xm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${mp(s)}`)}(r,e)}function VT(r,e){const n={};return EE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,(s,o)=>{const u=kT(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof yp||r instanceof no||r instanceof pn||r instanceof OT||r instanceof vp)}function LT(r,e,n){if(!PT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=mp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function wI(r,e,n){if((e=gn(e))instanceof gp)return e._internalPath;if(typeof e=="string")return UT(r,e);throw hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const SI=new RegExp("[~\\*/\\[\\]]");function UT(r,e,n){if(e.search(SI)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gp(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function hh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ie.INVALID_ARGUMENT,m+r+p)}function AI(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RI extends jT{data(){return super.data()}}function zT(r,e){return typeof e=="string"?UT(r,e):e instanceof gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class II{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Hs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[nh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new vp(u)}convertGeoPoint(e){return new yp(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);qe(nT(s));const o=new Hl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends jT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Kc extends BT{data(e={}){return super.data(e)}}class NI{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:DI(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){r=$r(r,pn);const e=$r(r.firestore,iu);return fI(pp(e),r._key).then(n=>MI(e,r,n))}class qT extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function ru(r){r=$r(r,Ph);const e=$r(r.firestore,iu),n=pp(e),s=new qT(e);return CI(r._query),dI(n,r._query).then(o=>new NI(e,s,r,o))}function FT(r,e,n){r=$r(r,pn);const s=$r(r.firestore,iu),o=xI(r.converter,e,n);return GT(s,[bI(TI(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,li.none())])}function OI(r){return GT($r(r.firestore,iu),[new Wm(r._key,li.none())])}function GT(r,e){return function(s,o){const u=new Qi;return s.asyncQueue.enqueueAndForget(async()=>eI(await hI(s),o,u)),u.promise}(pp(r),e)}function MI(r,e,n){const s=n.docs.get(e._key),o=new qT(r);return new BT(r,o,e._key,s,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){oo=o})(ao),Ya(new Ls("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new iu(new wA(s.getProvider("auth-internal")),new RA(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ur(m_,p_,e),Ur(m_,p_,"esm2017")})();function Ep(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=KT,QT=new Wl("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new zm("@firebase/auth");function VI(r,...e){fh.logLevel<=Me.WARN&&fh.warn(`Auth (${ao}): ${r}`,...e)}function Qc(r,...e){fh.logLevel<=Me.ERROR&&fh.error(`Auth (${ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...e){throw Tp(r,...e)}function ci(r,...e){return Tp(r,...e)}function YT(r,e,n){const s=Object.assign(Object.assign({},kI()),{[e]:n});return new Wl("auth","Firebase",s).create(e,{appName:r.name})}function Br(r){return YT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return QT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Tp(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qc(e),new Error(e)}function Wi(r,e){r||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function PI(){return u0()==="http:"||u0()==="https:"}function u0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PI()||Zw()||"connection"in navigator)?navigator.onLine:!0}function UI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=$w()||Jw()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BI=new su(3e4,6e4);function Ks(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Xr(r,e,n,s,o={}){return XT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Ww()||(y.referrerPolicy="no-referrer"),$T.fetch()(await WT(r,r.config.apiHost,n,m),y)})}async function XT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},jI),e);try{const o=new qI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw YT(r,E,y);Bn(r,E)}}catch(o){if(o instanceof Ji)throw o;Bn(r,"network-request-failed",{message:String(o)})}}async function Lh(r,e,n,s,o={}){const u=await Xr(r,e,n,s,o);return"mfaPendingCredential"in u&&Bn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function WT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?bp(r.config,o):`${r.config.apiScheme}://${o}`;return zI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),BI.get())})}}function Uc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(r,e,s);return o.customData._tokenResponse=n,o}function c0(r){return r!==void 0&&r.enterprise!==void 0}class FI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GI(r,e){return Xr(r,"GET","/v2/recaptchaConfig",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return Xr(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return Xr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(r,e=!1){const n=gn(r),s=await n.getIdToken(e),o=wp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ll(sm(o.auth_time)),issuedAtTime:Ll(sm(o.iat)),expirationTime:Ll(sm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function sm(r){return Number(r)*1e3}function wp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eE(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h0(r){const e=wp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ji&&YI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Kl(r,dh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ZT(u.providerUserInfo):[],m=WI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,C)}async function XI(r){const e=gn(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZT(r){return r.map(e=>{var{providerId:n}=e,s=Ep(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){const n=await XT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await WT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$T.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JI(r,e){return Xr(r,"POST","/v2/accounts:revokeToken",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=h0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await Kl(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,te=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:le,isAnonymous:ae,providerData:ce,stsTokenManager:M}=n;Ee(Q&&M,e,"internal-error");const b=Ga.fromJSON(this.name,M);Ee(typeof Q=="string",e,"internal-error"),xr(C,e.name),xr(x,e.name),Ee(typeof le=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),xr(P,e.name),xr(z,e.name),xr(Z,e.name),xr(q,e.name),xr(Y,e.name),xr(te,e.name);const A=new jn({uid:Q,auth:e,email:x,emailVerified:le,displayName:C,isAnonymous:ae,photoURL:z,phoneNumber:P,tenantId:Z,stsTokenManager:b,createdAt:Y,lastLoginAt:te});return ce&&Array.isArray(ce)&&(A.providerData=ce.map(I=>Object.assign({},I))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ga;m.updateFromIdToken(s);const p=new jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function Gi(r){Wi(r instanceof Function,"Expected a class definition");let e=f0.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,f0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const d0=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ka{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ka(Gi(d0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Gi(d0);const f=Yc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let C;if(typeof E=="string"){const x=await dh(e,{idToken:E}).catch(()=>{});if(!x)break;C=await jn._fromGetAccountInfoResponse(e,x,E)}else C=jn._fromJSON(e,E);y!==u&&(m=C),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ka(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ab(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eb(r=$t()){return/firefox\//i.test(r)}function tb(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(r=$t()){return/crios\//i.test(r)}function ib(r=$t()){return/iemobile/i.test(r)}function rb(r=$t()){return/android/i.test(r)}function sb(r=$t()){return/blackberry/i.test(r)}function ab(r=$t()){return/webos/i.test(r)}function Sp(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ex(r=$t()){var e;return Sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tx(){return eS()&&document.documentMode===10}function ob(r=$t()){return Sp(r)||rb(r)||ab(r)||sb(r)||/windows phone/i.test(r)||ib(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,e=[]){let n;switch(r){case"Browser":n=m0($t());break;case"Worker":n=`${m0($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(r,e={}){return Xr(r,"GET","/v2/passwordPolicy",Ks(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=6;class sx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:rx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new nx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Br(this));const n=e?gn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ix(this),n=new sx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fo(r){return gn(r)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ox(r){Uh=r}function ub(r){return Uh.loadJS(r)}function lx(){return Uh.recaptchaEnterpriseScript}function ux(){return Uh.gapiScript}function cx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hx{constructor(){this.enterprise=new fx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dx="recaptcha-enterprise",cb="NO_RECAPTCHA";class mx{constructor(e){this.type=dx,this.auth=fo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{GI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new FI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(cb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&c0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lx();p.length!==0&&(p+=m),ub(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function g0(r,e,n,s=!1,o=!1){const u=new mx(r);let f;if(o)f=cb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function y0(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await g0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await g0(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r,e){const n=Hm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ps(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function gx(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yx(r,e,n){const s=fo(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hb(e),{host:f,port:m}=vx(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ps(y,s.config.emulator)&&Ps(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_x()}function hb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vx(r){const e=hb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:v0(f)}}}function v0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _x(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function Ex(r,e){return Xr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(r,e){return Lh(r,"POST","/v1/accounts:signInWithPassword",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(r,e){return Lh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,e))}async function wx(r,e){return Lh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Ap{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,n,"signInWithPassword",Tx);case"emailLink":return bx(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,s,"signUpPassword",Ex);case"emailLink":return wx(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return Lh(r,"POST","/v1/accounts:signInWithIdp",Ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="http://localhost";class zs extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Ep(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:Sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rx(r){const e=Cl(Il(r)).link,n=e?Cl(Il(e)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||n||e||r}class Rp{constructor(e){var n,s,o,u,f,m;const p=Cl(Il(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,C=Ax((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&E&&C,"argument-error"),this.apiKey=y,this.operation=C,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Rx(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rp.parseLink(n);return Ee(s,"argument-error"),Ql._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends au{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends au{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends au{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jn._fromIdTokenResponse(e,s,o),f=_0(s);return new io({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_0(s);return new io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Ji{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function db(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function Cx(r,e,n=!1){const s=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return io._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(Br(s));const o="reauthenticate";try{const u=await Kl(r,db(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=wp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),io._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(r,e,n=!1){if(Ln(r.app))return Promise.reject(Br(r));const s="signIn",o=await db(r,s,e),u=await io._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function xx(r,e){return mb(fo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(r){const e=fo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Dx(r,e,n){return Ln(r.app)?Promise.reject(Br(r)):xx(gn(r),mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Nx(r),s})}function Ox(r,e,n,s){return gn(r).onIdTokenChanged(e,n,s)}function Mx(r,e,n){return gn(r).beforeAuthStateChanged(e,n)}function kx(r){return gn(r).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1e3,Px=10;class gb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Px):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const Lx=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await Ux(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Cp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const x=C;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function zx(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function Bx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function qx(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",Fx=1,yh="firebaseLocalStorage",Tb="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,e){return r.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function Gx(){const r=indexedDB.deleteDatabase(Eb);return new ou(r).toPromise()}function Mm(){const r=indexedDB.open(Eb,Fx);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:Tb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await Gx(),e(await Mm()))})})}async function E0(r,e,n){const s=zh(r,!0).put({[Tb]:e,value:n});return new ou(s).toPromise()}async function Kx(r,e){const n=zh(r,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function T0(r,e){const n=zh(r,!0).delete(e);return new ou(n).toPromise()}const Qx=800,Yx=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Yx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(qx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bx(),!this.activeServiceWorker)return;this.sender=new jx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await E0(e,gh,"1"),await T0(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Kx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const $x=bb;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(r,e){return e?Gi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wx(r){return mb(r.auth,new Ip(r),r.bypassAuthState)}function Zx(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Ix(n,new Ip(r),r.bypassAuthState)}async function Jx(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Cx(n,new Ip(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wx;case"linkViaPopup":case"linkViaRedirect":return Jx;case"reauthViaPopup":case"reauthViaRedirect":return Zx;default:Bn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new su(2e3,1e4);class qa extends wb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e4.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="pendingRedirect",$c=new Map;class n4 extends wb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const s=await i4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i4(r,e){const n=a4(e),s=s4(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function r4(r,e){$c.set(r._key(),e)}function s4(r){return Gi(r._redirectPersistence)}function a4(r){return Yc(t4,r.config.apiKey,r.name)}async function o4(r,e,n=!1){if(Ln(r.app))return Promise.reject(Br(r));const s=fo(r),o=Xx(s,e),f=await new n4(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=10*60*1e3;class u4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Sb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l4&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Sb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(r,e={}){return Xr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d4=/^https?/;async function m4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await h4(r);for(const n of e)try{if(p4(n))return}catch{}Bn(r,"unauthorized-domain")}function p4(r){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!d4.test(n))return!1;if(f4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new su(3e4,6e4);function w0(){const r=hi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function y4(r){return new Promise((e,n)=>{var s,o,u;function f(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(ci(r,"network-request-failed"))},timeout:g4.get()})}if(!((o=(s=hi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hi().gapi)===null||u===void 0)&&u.load)f();else{const m=cx("iframefcb");return hi()[m]=()=>{gapi.load?f():n(ci(r,"network-request-failed"))},ub(`${ux()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function v4(r){return Xc=Xc||y4(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new su(5e3,15e3),E4="__/auth/iframe",T4="emulator/auth/iframe",b4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S4(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bp(e,T4):`https://${r.config.authDomain}/${E4}`,s={apiKey:e.apiKey,appName:r.name,v:ao},o=w4.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function A4(r){const e=await v4(r),n=hi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:S4(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ci(r,"network-request-failed"),m=hi().setTimeout(()=>{u(f)},_4.get());function p(){hi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C4=500,I4=600,x4="_blank",N4="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(r,e,n,s=C4,o=I4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},R4),{width:s.toString(),height:o.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=nb(y)?x4:n),eb(y)&&(e=e||N4,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[P,z])=>`${x}${P}=${z},`,"");if(ex(y)&&m!=="_self")return O4(e||"",m),new S0(null);const C=window.open(e||"",m,E);Ee(C,r,"popup-blocked");try{C.focus()}catch{}return new S0(C)}function O4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="__/auth/handler",k4="emulator/auth/handler",V4=encodeURIComponent("fac");async function A0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(e instanceof fb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",oS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))f[E]=C}if(e instanceof au){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${V4}=${encodeURIComponent(p)}`:"";return`${P4(r)}?${Zl(m).slice(1)}${y}`}function P4({config:r}){return r.emulator?bp(r,k4):`https://${r.authDomain}/${M4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class L4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=o4,this._overrideRedirectResult=r4}async _openPopup(e,n,s,o){var u;Wi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await A0(e,n,s,Dm(),o);return D4(e,f,Cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await A0(e,n,s,Dm(),o);return zx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await A4(e),s=new u4(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[am];f!==void 0&&n(!!f),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ob()||tb()||Sp()}}const U4=L4;var R0="@firebase/auth",C0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B4(r){Ya(new Ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(r)},y=new ax(s,o,u,p);return gx(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ya(new Ls("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(s=>new j4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(R0,C0,z4(r)),Ur(R0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=5*60,q4=iE("authIdTokenMaxAge")||H4;let I0=null;const F4=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>q4)return;const o=n==null?void 0:n.token;I0!==o&&(I0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function G4(r=oE()){const e=Hm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=px(r,{popupRedirectResolver:U4,persistence:[$x,Lx,vb]}),s=iE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=F4(u.toString());Mx(n,f,()=>f(n.currentUser)),Ox(n,m=>f(m))}}const o=tE("auth");return o&&yx(n,`http://${o}`),n}function K4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}ox({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",K4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B4("Browser");const Q4={apiKey:"AIzaSyCwJSWXrGuK25Z60TXOm_YCLkd0OvwMr1I",authDomain:"dynamic-portfolio-e0573.firebaseapp.com",projectId:"dynamic-portfolio-e0573",storageBucket:"dynamic-portfolio-e0573.firebasestorage.app",messagingSenderId:"12124305731",appId:"1:12124305731:web:b070062b71b994b28617f6",measurementId:"G-ZESMJDHLSW"},Ab=aE(Q4),gi=gI(Ab),Rb=G4(Ab),Y4=async(r,e)=>{if(!e)return!1;const n=to(gi,r,e);return await OI(n),!0},$4=async r=>{const e=to(gi,"about_me","profile");await FT(e,r,{merge:!0})},X4=async(r,e)=>{const n=ho(gi,r);for(const s of e)if(s.title||s.name||s.comment){const o=s.id?to(n,s.id):to(n);await FT(o,{...s,id:o.id},{merge:!0})}},Cb=async()=>{try{const r=to(gi,"about_me","profile"),e=await HT(r);return console.log(JSON.stringify(e.exists()?e.data():null,null,2)),JSON.stringify(e.exists()?e.data():null,null,2)}catch(r){return{success:!1,error:r.message}}},W4=async()=>{try{const e=(await ru(ho(gi,"certificates"))).docs.map(n=>({id:n.id,...n.data()}));return JSON.stringify(e,null,2)}catch(r){return{success:!1,error:r.message}}},Z4=async()=>{try{const e=(await ru(ho(gi,"experiences"))).docs.map(n=>({id:n.id,...n.data()}));return JSON.stringify(e,null,2)}catch(r){return{success:!1,error:r.message}}},J4=async()=>{try{const r=to(gi,"information","stats"),e=await HT(r);return JSON.stringify(e.exists()?e.data().visits:0,null,2)}catch(r){return{success:!1,error:r.message}}},Ib=async()=>{try{const e=(await ru(ho(gi,"skills"))).docs.map(n=>({id:n.id,...n.data()}));return JSON.stringify(e,null,2)}catch(r){return{success:!1,error:r.message}}},eN=async()=>{try{const e=(await ru(ho(gi,"testimonials"))).docs.map(n=>({id:n.id,...n.data()}));return JSON.stringify(e,null,2)}catch(r){return{success:!1,error:r.message}}},tN=async()=>{try{const e=(await ru(ho(gi,"works"))).docs.map(n=>{var o;const s=n.data();return{id:n.id,...s,languages:(o=s.languages)==null?void 0:o.map(u=>({name:u,icon:`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${u}/${u}-original.svg`}))}});return JSON.stringify(e,null,2)}catch(r){return{success:!1,error:r.message}}},nN=async(r,e)=>{try{const s=(await Dx(Rb,r,e)).user;return alert(`Welcome, ${s.email}!`),{success:!0,user:s}}catch(n){return alert(`Login failed: ${n.message}`),{success:!1,error:n.message}}},iN=async()=>{try{return await kx(Rb),alert("You have been logged out."),{success:!0}}catch(r){return alert(`Logout failed: ${r.message}`),{success:!1,error:r.message}}};function xb({icon:r,name:e,className:n=""}){return r?w.jsx("img",{src:r,alt:e,className:`w-6 h-6 mr-2 ${n}`}):null}function rN(){const[r,e]=K.useState(null),[n,s]=K.useState({}),[o,u]=K.useState("basic"),[f,m]=K.useState({email:"",password:""}),[p,y]=K.useState(!1);K.useEffect(()=>{(async()=>{try{const le=JSON.parse(await Cb()),ae=JSON.parse(await W4()),ce=JSON.parse(await Z4()),M=JSON.parse(await Ib()),b=JSON.parse(await eN()),A=JSON.parse(await tN()),I=JSON.parse(await J4()),R={...le,certificates:ae,experiences:ce,skills:M,testimonials:b,works:A,visits:I};e(R),s(R)}catch(le){console.error("Error fetching data:",le.message)}})()},[]);const E=(Q,le)=>{s(ae=>({...ae,[Q]:le}))},C=async(Q,le)=>{if(le)try{await Y4(Q,le),e(ae=>({...ae,[Q]:ae[Q].filter(ce=>ce.id!==le)})),alert(`${Q} item deleted successfully!`)}catch(ae){console.error(`Error deleting ${Q}:`,ae.message),alert(`Failed to delete ${Q}. Please try again.`)}},x=async()=>{var Q,le,ae,ce,M,b,A;try{await $4({short_description:n.short_description||"",description:n.description||"",location:n.location||"",availability:n.availability||"",resume_url:n.resume_url||"",socials:{github:((Q=n.socials)==null?void 0:Q.github)||"",linkedin:((le=n.socials)==null?void 0:le.linkedin)||"",facebook:((ae=n.socials)==null?void 0:ae.facebook)||"",facebook_page:((ce=n.socials)==null?void 0:ce.facebook_page)||"",phone:((M=n.socials)==null?void 0:M.phone)||"",email:((b=n.socials)==null?void 0:b.email)||"",tiktok:((A=n.socials)==null?void 0:A.tiktok)||""}});const I=["certificates","skills","experiences","works","testimonials","comments"];for(const R of I)r[R]&&await X4(R,r[R]);alert("All data updated successfully!")}catch(I){console.error("Error updating data:",I.message),alert("Failed to update data. Please check your inputs and try again.")}},P=Q=>(Q==null?void 0:Q.map(le=>{const ae=ce=>ce!=null&&ce.name&&typeof ce.name=="string"?{name:ce.name,icon:ce.icon||""}:ae((ce==null?void 0:ce.name)||ce);return ae(le)||{name:"Unknown",icon:""}}))||[],z=()=>{var Q,le,ae,ce,M;switch(o){case"basic":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Basic Information"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Short Description:"}),w.jsx("textarea",{value:Y(r.short_description),onChange:b=>{e(A=>({...A,short_description:b.target.value})),E("short_description",b.target.value)},className:"w-full border border-gray-300 rounded-md p-2"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Description:"}),w.jsx("textarea",{value:Y(r.description),onChange:b=>{e(A=>({...A,description:b.target.value})),E("description",b.target.value)},className:"w-full border border-gray-300 rounded-md p-2"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Location:"}),w.jsx("input",{type:"text",value:Y(r.location),onChange:b=>{e(A=>({...A,location:b.target.value})),E("location",b.target.value)},className:"w-full border border-gray-300 rounded-md p-2"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Availability:"}),w.jsxs("select",{value:Y(r.availability),onChange:b=>{e(A=>({...A,availability:b.target.value})),E("availability",b.target.value)},className:"w-full border border-gray-300 rounded-md p-2",children:[w.jsx("option",{value:"",children:"Select Availability"}),w.jsx("option",{value:"Open for job",children:"Open for job"}),w.jsx("option",{value:"Hired",children:"Hired"})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Resume (Direct Download Link):"}),w.jsx("input",{type:"text",value:Y(r.resume_url),onChange:b=>{e(A=>({...A,resume_url:b.target.value})),E("resume_url",b.target.value)},className:"w-full border border-gray-300 rounded-md p-2"}),w.jsx("a",{href:Y(r.resume_url),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Download Resume"})]})]});case"certificates":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Certificates"}),(Q=r.certificates)==null?void 0:Q.map((b,A)=>w.jsxs("div",{className:"mb-4 border-b border-gray-200 pb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Type:"}),w.jsxs("select",{value:b.type||"Certificate",onChange:I=>{const R=[...r.certificates];R[A].type=I.target.value,e({...r,certificates:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2",children:[w.jsx("option",{value:"Certificate",children:"Certificate"}),w.jsx("option",{value:"Award",children:"Award"})]}),w.jsx("label",{className:"block font-medium mb-1",children:"Title:"}),w.jsx("input",{type:"text",value:b.title||"",onChange:I=>{const R=[...r.certificates];R[A].title=I.target.value,e({...r,certificates:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Description:"}),w.jsx("textarea",{value:b.description||"",onChange:I=>{const R=[...r.certificates];R[A].description=I.target.value,e({...r,certificates:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Date:"}),w.jsx("input",{type:"date",value:b.date||"",onChange:I=>{const R=[...r.certificates];R[A].date=I.target.value,e({...r,certificates:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Image:"}),w.jsx("input",{type:"file",accept:"image/*",onChange:async I=>{const R=I.target.files[0];if(R){const O=await te(R),N=[...r.certificates];N[A].image=O,e({...r,certificates:N})}},className:"w-full border border-gray-300 rounded-md p-2"}),b.image&&w.jsx("img",{src:b.image,alt:"Certificate Preview",className:"mt-2 w-32 h-32 object-cover border"}),b.id&&w.jsx("button",{onClick:()=>C("certificates",b.id),className:"mt-2 !bg-red-500 text-gray-500 py-1 px-3 rounded-md hover:bg-red-600",children:"Delete"})]},A)),w.jsx("button",{onClick:()=>{const b=[...r.certificates||[],{type:"Certificate",title:"",description:"",date:"",image:""}];e({...r,certificates:b})},className:"!bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Certificate"})]});case"contact":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contact"}),w.jsx("div",{className:"space-y-4",children:["github","linkedin","facebook","facebook_page","phone","email","tiktok"].map(b=>{var A;return w.jsxs("div",{children:[w.jsxs("label",{className:"block font-medium capitalize",children:[b.replace("_"," "),":"]}),w.jsx("input",{type:"text",value:((A=n.socials)==null?void 0:A[b])||"",onChange:I=>{s(R=>({...R,socials:{...R.socials,[b]:I.target.value}}))},className:"w-full border border-gray-300 rounded-md p-2"})]},b)})})]});case"skills":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Skills"}),(le=r.skills)==null?void 0:le.map((b,A)=>w.jsxs("div",{className:"mb-4 border-b border-gray-200 pb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Title:"}),w.jsx("input",{type:"text",value:b.title||"",onChange:I=>{const R=[...r.skills];R[A].title=I.target.value,e({...r,skills:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Proficiency:"}),w.jsx("input",{type:"range",min:"0",max:"100",value:b.proficiency||0,onChange:I=>{const R=[...r.skills];R[A].proficiency=I.target.value,e({...r,skills:R})},className:"w-full"}),w.jsxs("p",{className:"text-sm text-gray-600",children:["Proficiency: ",b.proficiency||0,"%"]}),w.jsx("label",{className:"block font-medium mb-1",children:"Category:"}),w.jsxs("select",{value:b.category||"",onChange:I=>{const R=[...r.skills];R[A].category=I.target.value,e({...r,skills:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2",children:[w.jsx("option",{value:"",children:"Select Category"}),w.jsx("option",{value:"Window Application Development",children:"Window Application Development"}),w.jsx("option",{value:"Game Development",children:"Game Development"}),w.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),w.jsx("option",{value:"Web Development",children:"Web Development"}),w.jsx("option",{value:"Database & Backend",children:"Database & Backend"}),w.jsx("option",{value:"Others",children:"Others"})]}),w.jsx("label",{className:"block font-medium mb-1",children:"Icon:"}),w.jsxs("select",{value:b.icon||"",onChange:I=>{const R=[...r.skills];R[A].icon=I.target.value,e({...r,skills:R})},className:"w-full border border-gray-300 rounded-md p-2",children:[w.jsx("option",{value:"",children:"Select an Icon"}),n_.map(I=>w.jsx("option",{value:I,children:I},I))]}),b.icon&&w.jsx("img",{src:`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${b.icon}/${b.icon}-original.svg`,alt:`${b.icon} icon`,className:"mt-2 w-16 h-16 object-cover border"}),b.id&&w.jsx("button",{onClick:()=>C("skills",b.id),className:"mt-2 !bg-red-500 text-gray-500 py-1 px-3 rounded-md hover:bg-red-600",children:"Delete"})]},A)),w.jsx("button",{onClick:()=>{const b=[...r.skills||[],{title:"",proficiency:0,icon:"",category:""}];e({...r,skills:b})},className:"!bg-blue-500 text-gray-500 py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Skill"})]});case"experiences":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Experiences"}),(ae=r.experiences)==null?void 0:ae.map((b,A)=>w.jsxs("div",{className:"mb-4 border-b border-gray-200 pb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Name:"}),w.jsx("input",{type:"text",value:b.name||"",onChange:I=>{const R=[...r.experiences];R[A].name=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"From:"}),w.jsx("input",{type:"date",value:b.from||"",onChange:I=>{const R=[...r.experiences];R[A].from=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"To:"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"date",value:b.to||"",disabled:b.still_doing,onChange:I=>{const R=[...r.experiences];R[A].to=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:b.still_doing||!1,onChange:I=>{const R=[...r.experiences];R[A].still_doing=I.target.checked,e({...r,experiences:R})}})," Still doing"]})]}),w.jsx("label",{className:"block font-medium mb-1",children:"Description:"}),w.jsx("textarea",{value:b.description||"",onChange:I=>{const R=[...r.experiences];R[A].description=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"What I Learned:"}),w.jsx("textarea",{value:b.learned||"",onChange:I=>{const R=[...r.experiences];R[A].learned=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Job Description/Role:"}),w.jsx("textarea",{value:b.role||"",onChange:I=>{const R=[...r.experiences];R[A].role=I.target.value,e({...r,experiences:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),b.id&&w.jsx("button",{onClick:()=>C("experiences",b.id),className:"mt-2 !bg-red-500 text-gray-500 py-1 px-3 rounded-md hover:bg-red-600",children:"Delete"})]},A)),w.jsx("button",{onClick:()=>{const b=[...r.experiences||[],{name:"",from:"",to:"",description:"",learned:"",role:"",still_doing:!1}];e({...r,experiences:b})},className:"!bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Experience"})]});case"works":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Works"}),(ce=r.works)==null?void 0:ce.map((b,A)=>{var I;return w.jsxs("div",{className:"mb-4 border-b border-gray-200 pb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Title:"}),w.jsx("input",{type:"text",value:b.title||"",onChange:R=>{const O=[...r.works];O[A].title=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Description:"}),w.jsx("textarea",{value:b.description||"",onChange:R=>{const O=[...r.works];O[A].description=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Year:"}),w.jsx("input",{type:"number",value:b.year||"",onChange:R=>{const O=[...r.works];O[A].year=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Duration:"}),w.jsx("input",{type:"text",value:b.duration||"",onChange:R=>{const O=[...r.works];O[A].duration=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Category:"}),w.jsxs("select",{value:b.category||"",onChange:R=>{const O=[...r.works];O[A].category=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2",children:[w.jsx("option",{value:"",children:"Select Category"}),w.jsx("option",{value:"Work",children:"Work"}),w.jsx("option",{value:"Commission",children:"Commission"}),w.jsx("option",{value:"School",children:"School"}),w.jsx("option",{value:"Side Project",children:"Side Project"})]}),w.jsx("label",{className:"block font-medium mb-1",children:"Video Link (YouTube/Vimeo Embed URL):"}),w.jsx("input",{type:"text",placeholder:"e.g., https://www.youtube.com/embed/VIDEO_ID",value:b.video_link||"",onChange:R=>{const O=[...r.works];O[A].video_link=R.target.value,e({...r,works:O})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),b.video_link&&w.jsx("div",{className:"mb-2",children:w.jsx("iframe",{width:"100%",height:"315",src:b.video_link,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"mb-2"})}),w.jsx("label",{className:"block font-medium mb-1",children:"Languages/Technologies:"}),w.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:P(b.languages).map((R,O)=>w.jsxs("div",{className:"flex items-center bg-gray-100 p-2 rounded",children:[w.jsx(xb,{icon:R.icon,name:R.name}),w.jsx("span",{children:R.name}),w.jsx("button",{onClick:()=>{const N=[...r.works];N[A].languages=b.languages.filter((rt,Qe)=>Qe!==O),e({...r,works:N})},className:"ml-2 text-red-500",children:"×"})]},O))}),w.jsx("div",{className:"flex gap-2 mb-2",children:w.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2",onChange:R=>{if(R.target.value){const O=R.target.value,N=[...r.works];N[A].languages=[...b.languages||[],{name:O,icon:`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${O}/${O}-original.svg`}],e({...r,works:N}),R.target.value=""}},children:[w.jsx("option",{value:"",children:"Select Technology"}),n_.map(R=>w.jsx("option",{value:R,children:R},R))]})}),w.jsx("label",{className:"block font-medium mb-1",children:"Images:"}),w.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:async R=>{const O=Array.from(R.target.files),N=await Promise.all(O.map(Qe=>te(Qe))),rt=[...r.works];rt[A].images=[...rt[A].images||[],...N],e({...r,works:rt})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:(I=b.images)==null?void 0:I.map((R,O)=>w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:R,alt:`Work ${O+1}`,className:"w-full h-32 object-cover"}),w.jsx("button",{onClick:()=>{const N=[...r.works];N[A].images=b.images.filter((rt,Qe)=>Qe!==O),e({...r,works:N})},className:"absolute top-0 right-0 !bg-red-500 text-white p-1 rounded-full",children:"×"})]},O))}),b.id&&w.jsx("button",{onClick:()=>C("works",b.id),className:"mt-2 !bg-red-500 text-gray-500 py-1 px-3 rounded-md hover:bg-red-600",children:"Delete"})]},A)}),w.jsx("button",{onClick:()=>{const b=[...r.works||[],{title:"",description:"",year:"",duration:"",category:"",video_link:"",languages:[],images:[]}];e({...r,works:b})},className:"!bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Work"})]});case"testimonials":return w.jsxs("section",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Testimonials"}),(M=r.testimonials)==null?void 0:M.map((b,A)=>w.jsxs("div",{className:"mb-4 border-b border-gray-200 pb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Company Name:"}),w.jsx("input",{type:"text",value:b.company||"",onChange:I=>{const R=[...r.testimonials];R[A].company=I.target.value,e({...r,testimonials:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Name:"}),w.jsx("input",{type:"text",value:b.name||"",onChange:I=>{const R=[...r.testimonials];R[A].name=I.target.value,e({...r,testimonials:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Role:"}),w.jsx("input",{type:"text",value:b.role||"",onChange:I=>{const R=[...r.testimonials];R[A].role=I.target.value,e({...r,testimonials:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Comment:"}),w.jsx("textarea",{value:b.comment||"",onChange:I=>{const R=[...r.testimonials];R[A].comment=I.target.value,e({...r,testimonials:R})},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),w.jsx("label",{className:"block font-medium mb-1",children:"Image:"}),w.jsx("input",{type:"file",accept:"image/*",onChange:async I=>{const R=I.target.files[0];if(R){const O=await te(R),N=[...r.testimonials];N[A].image=O,e({...r,testimonials:N})}},className:"w-full border border-gray-300 rounded-md p-2 mb-2"}),b.image&&w.jsx("img",{src:b.image,alt:"Profile",className:"mt-2 w-32 h-32 object-cover"}),b.id&&w.jsx("button",{onClick:()=>C("testimonials",b.id),className:"mt-2 !bg-red-500 text-gray-500 py-1 px-3 rounded-md hover:bg-red-600",children:"Delete"})]},A)),w.jsx("button",{onClick:()=>{const b=[...r.testimonials||[],{company:"",name:"",role:"",comment:"",image:""}];e({...r,testimonials:b})},className:"!bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Add Testimonial"})]});default:return null}},Z=async()=>{const{email:Q,password:le}=f;if(!Q||!le){alert("Please enter both email and password.");return}(await nN(Q,le)).success&&y(!0)},q=async()=>{(await iN()).success&&y(!1)};if(!r)return w.jsx("div",{children:"Loading..."});const Y=Q=>Q??"N/A",te=Q=>new Promise((le,ae)=>{const ce=new FileReader;ce.readAsDataURL(Q),ce.onload=()=>le(ce.result),ce.onerror=M=>ae(M)});return w.jsxs("div",{className:"p-6 bg-gray-400 text-gray-700 min-h-screen",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Portfolio"}),p?w.jsxs("div",{className:"mb-4 bg-white shadow-md rounded-lg p-6",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Welcome!"}),w.jsx("button",{onClick:q,className:"!bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600",children:"Logout"})]}):w.jsxs("div",{className:"mb-4 bg-white shadow-md rounded-lg p-6",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Login"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Email:"}),w.jsx("input",{type:"email",value:f.email,onChange:Q=>m({...f,email:Q.target.value}),className:"w-full border border-gray-300 rounded-md p-2"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block font-medium mb-1",children:"Password:"}),w.jsx("input",{type:"password",value:f.password,onChange:Q=>m({...f,password:Q.target.value}),className:"w-full border border-gray-300 rounded-md p-2"})]}),w.jsx("button",{onClick:Z,className:"!bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:"Login"})]}),w.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Intro:"})," ",Y(r.short_description)]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Description:"})," ",Y(r.description)]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Location:"})," ",Y(r.location)]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Availability:"})," ",Y(r.availability)]}),w.jsx("a",{href:Y(r.resume_url),download:!0,className:"text-blue-500 underline",children:"Download Resume"})]}),w.jsxs("p",{className:"mt-6 text-gray-600",children:["Total Visits: ",Y(r.visits)]}),w.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Admin Panel"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("button",{onClick:()=>u("basic"),className:`mr-2 px-4 py-2 rounded-md ${o==="basic"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Basic Info"}),w.jsx("button",{onClick:()=>u("certificates"),className:`mr-2 px-4 py-2 rounded-md ${o==="certificates"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Certificates"}),w.jsx("button",{onClick:()=>u("contact"),className:`mr-2 px-4 py-2 rounded-md ${o==="contact"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Contact"}),w.jsx("button",{onClick:()=>u("skills"),className:`mr-2 px-4 py-2 rounded-md ${o==="skills"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Skills"}),w.jsx("button",{onClick:()=>u("experiences"),className:`mr-2 px-4 py-2 rounded-md ${o==="experiences"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Experiences"}),w.jsx("button",{onClick:()=>u("works"),className:`mr-2 px-4 py-2 rounded-md ${o==="works"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Works"}),w.jsx("button",{onClick:()=>u("testimonials"),className:`mr-2 px-4 py-2 rounded-md ${o==="testimonials"?"!bg-blue-500 text-white":"bg-gray-200"}`,children:"Testimonials"})]}),z(),w.jsx("button",{onClick:x,className:"mt-4 !bg-green-500 text-gray-500 py-2 px-4 rounded-md hover:bg-green-600",children:"Save All Changes"})]})]})}var zn=function(){return zn=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},zn.apply(this,arguments)};function xp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]])}return n}var sN={pixelButton:"Button-module__pixelButton___8EYeN"},aN=function(r){var e=r.children,n=r.className,s=n===void 0?"":n,o=r.bg,u=r.textColor,f=r.shadow,m=r.borderColor,p=r.style,y=xp(r,["children","className","bg","textColor","shadow","borderColor","style"]),E=K.useMemo(function(){var x='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><path d="M3 1h1v1h-1zM4 1h1v1h-1zM2 2h1v1h-1zM5 2h1v1h-1zM1 3h1v1h-1zM6 3h1v1h-1zM1 4h1v1h-1zM6 4h1v1h-1zM2 5h1v1h-1zM5 5h1v1h-1zM3 6h1v1h-1zM4 6h1v1h-1z" fill="'.concat(m||"currentColor",'"/></svg>');return'url("data:image/svg+xml,'.concat(encodeURIComponent(x),'")')},[m]),C=zn(zn({},p),{"--button-custom-bg":o,"--button-custom-text":u,"--button-custom-shadow":f,"--button-custom-border":m,borderImageSource:E});return ai.createElement("button",zn({className:"".concat(sN.pixelButton," ").concat(s," p-0"),style:C},y),e)},oN={pixelCard:"Card-module__pixelCard___RY5ZX"},lN=function(r){var e=r.children,n=r.className,s=n===void 0?"":n,o=r.bg,u=r.textColor,f=r.borderColor,m=r.shadowColor,p=r.style,y=xp(r,["children","className","bg","textColor","borderColor","shadowColor","style"]),E=K.useMemo(function(){var x='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><path d="M3 1h1v1h-1zM4 1h1v1h-1zM2 2h1v1h-1zM5 2h1v1h-1zM1 3h1v1h-1zM6 3h1v1h-1zM1 4h1v1h-1zM6 4h1v1h-1zM2 5h1v1h-1zM5 5h1v1h-1zM3 6h1v1h-1zM4 6h1v1h-1z" fill="'.concat(f||"currentColor",'"/></svg>');return'url("data:image/svg+xml,'.concat(encodeURIComponent(x),'")')},[f]),C=zn(zn({},p),{"--card-custom-bg":o,"--card-custom-text":u,"--card-custom-border":f,"--card-custom-shadow":m,borderImageSource:E});return ai.createElement("div",zn({className:"".concat(oN.pixelCard," ").concat(s),style:C},y),e)};K.createContext(null);var uN={pixelTextarea:"TextArea-module__pixelTextarea___PfPoJ"},cN=K.forwardRef(function(r,e){var n=r.className,s=n===void 0?"":n,o=r.bg,u=r.textColor,f=r.borderColor,m=r.style,p=xp(r,["className","bg","textColor","borderColor","style"]),y=K.useMemo(function(){var C='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><path d="M3 1h1v1h-1zM4 1h1v1h-1zM2 2h1v1h-1zM5 2h1v1h-1zM1 3h1v1h-1zM6 3h1v1h-1zM1 4h1v1h-1zM6 4h1v1h-1zM2 5h1v1h-1zM5 5h1v1h-1zM3 6h1v1h-1zM4 6h1v1h-1z" fill="'.concat(f||"currentColor",'"/></svg>');return'url("data:image/svg+xml,'.concat(encodeURIComponent(C),'")')},[f]),E=zn(zn({},m),{"--textarea-custom-bg":o,"--textarea-custom-text":u,"--textarea-custom-border":f,borderImageSource:y});return ai.createElement("textarea",zn({ref:e,className:"".concat(uN.pixelTextarea," font-minecraft ").concat(s),style:E},p))});cN.displayName="TextArea";K.createContext(null);K.createContext({value:""});function qi({className:r,children:e,bg:n="#f8f4e1",textColor:s="#74512d",borderColor:o="#543310",shadowColor:u="#543310"}){return w.jsx(lN,{bg:n,textColor:s,borderColor:o,shadowColor:u,className:`${r} p-2`,children:e})}function hN({onclick:r,text:e,className:n=null,classText:s=null}){return w.jsx(aN,{onClick:r,className:`${n} hover:!bg-[#ddceb4] hover:!scale-105`,bg:"#ddceb4",textColor:"#30210b",borderColor:"#30210b",shadow:"#30210b",children:w.jsx("span",{className:`${s}`,children:e})})}var Nb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x0=ai.createContext&&ai.createContext(Nb),fN=["attr","size","title"];function dN(r,e){if(r==null)return{};var n=mN(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function mN(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function vh(){return vh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},vh.apply(this,arguments)}function N0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function _h(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(s){pN(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function pN(r,e,n){return e=gN(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gN(r){var e=yN(r,"string");return typeof e=="symbol"?e:e+""}function yN(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Db(r){return r&&r.map((e,n)=>ai.createElement(e.tag,_h({key:n},e.attr),Db(e.child)))}function Xt(r){return e=>ai.createElement(vN,vh({attr:_h({},r.attr)},e),Db(r.child))}function vN(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=dN(r,fN),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),ai.createElement("svg",vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:_h(_h({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ai.createElement("title",null,u),r.children)};return x0!==void 0?ai.createElement(x0.Consumer,null,n=>e(n)):e(Nb)}function _N(r){return Xt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function EN(r){return Xt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function TN(r){return Xt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(r)}function bN(r){return Xt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(r)}function wN(r){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(r)}function SN(r){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(r)}function Ob(r){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(r)}function AN(r){return Xt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function RN(r){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(r)}function CN(r){return Xt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function Vr({onclick:r,icon:e,className:n=null}){return w.jsx("div",{className:`${n} text-beige flex items-center justify-center p-3 rounded-md bg-brown-dark cursor-pointer hover:!bg-[#ddceb4] hover:!text-[#543310] hover:!scale-110 hover:shadow-lg transition-all duration-300 ease-out`,onClick:r,children:e})}function IN(r){return Xt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(r)}function xN(r){return Xt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(r)}function NN(r){return Xt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0v24h15.67v-7.35H7.35v-9.3H24V0zm8.33 15.68h8.32V24H24V8.32H8.33Z"},child:[]}]})(r)}function D0(r){return Xt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(r)}function DN(r){return Xt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"},child:[]}]})(r)}function ON(){return new Date().getFullYear()-2002}function MN(r){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 128a64 64 0 0 0-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4zM32 416a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3H35a3 3 0 0 0-3 3zm344-208a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24z"},child:[]}]})(r)}function kN(){const[r,e]=K.useState("profile"),[n,s]=K.useState(null);K.useEffect(()=>{const m=document.querySelectorAll("section"),p=new IntersectionObserver(y=>{y.forEach(E=>{E.isIntersecting&&e(E.target.id)})},{threshold:.6});return m.forEach(y=>p.observe(y)),()=>p.disconnect()},[]);const o=m=>{var p;e(m),(p=document.getElementById(m))==null||p.scrollIntoView({behavior:"smooth"})},u=m=>s(m),f=()=>s(null);return w.jsxs("div",{className:"!z-5 flex flex-col items-center justify-center bottom-5 fixed w-full",children:[w.jsx("span",{className:"gooey-label bg-brown-light opacity-95 shadow-2xl",children:r}),w.jsxs("div",{className:"flex flex-row gap-6 p-5 px-16 bg-brown-light opacity-95 rounded-4xl relative overflow-hidden",children:[w.jsx("div",{className:"absolute h-[40%] bg-beige left-0 bottom-0 w-full border-radius-1 pointer-events-none mask"}),[{id:"profile",icon:w.jsx(CN,{size:32}),label:"Profile"},{id:"skills",icon:w.jsx(RN,{size:32}),label:"Skills"},{id:"awards",icon:w.jsx(bN,{size:32}),label:"Awards"},{id:"projects",icon:w.jsx(AN,{size:32}),label:"Projects"},{id:"experiences",icon:w.jsx(wN,{size:32}),label:"Experiences"},{id:"testimonials",icon:w.jsx(SN,{size:32}),label:"Testimonials"}].map(({id:m,icon:p,label:y})=>w.jsx("div",{className:"relative flex flex-col items-center",children:w.jsx("div",{onMouseEnter:()=>u(m),onMouseLeave:f,children:w.jsx(Vr,{icon:p,onclick:()=>o(m),className:`transition-all ${r===m||n===m?"transition-all bg-beige text-brown-dark !scale-125 !-translate-y-1.5":"text-beige"}`})})},m))]})]})}const O0=["{ }","( )","< >","[ ]",";","=","+","-","/","|","&","%","!","?"];function M0(){return O0[Math.floor(Math.random()*O0.length)]}const VN=({symbolCount:r=128,minSize:e=24,maxSize:n=64,minSpeed:s=.3,maxSpeed:o=.75,minOpacity:u=.1,maxOpacity:f=.7})=>{const m=K.useRef(null),p=K.useRef(null),y=K.useRef([]);return K.useEffect(()=>{const E=m.current,C=E.getContext("2d");let x=window.innerWidth,P=window.innerHeight;E.width=x,E.height=P,y.current.length===0&&(y.current=Array.from({length:r}).map(()=>({x:Math.random()*x,y:Math.random()*-P,size:Math.random()*(n-e)+e,speed:Math.random()*(o-s)+s,symbol:M0(),alpha:Math.random()*(f-u)+u,rotation:Math.random()*360,direction:1})));function z(){C.clearRect(0,0,x,P),C.globalAlpha=1,C.font=`${y.current[0].size}px 'Minecraft', 'Pixel', 'monospace'`,C.textBaseline="middle",y.current.forEach(te=>{C.save(),C.translate(te.x,te.y),C.rotate(te.rotation*Math.PI/180),C.globalAlpha=te.alpha,C.fillStyle="#fff",C.fillText(te.symbol,-te.size/2,te.size/2),C.restore(),C.globalAlpha=1})}function Z(){y.current.forEach(te=>{te.y+=te.speed*te.direction,te.y>P+te.size&&(te.y=Math.random()*-P,te.x=Math.random()*x,te.size=Math.random()*(n-e)+e,te.speed=Math.random()*(o-s)+s,te.symbol=M0(),te.alpha=Math.random()*(f-u)+u,te.rotation=Math.random()*360)})}function q(){Z(),z(),p.current=requestAnimationFrame(q)}q();function Y(){x=window.innerWidth,P=window.innerHeight,E.width=x,E.height=P}return window.addEventListener("resize",Y),()=>{cancelAnimationFrame(p.current),window.removeEventListener("resize",Y)}},[r,e,n,s,o,u,f]),w.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none !blur-[2px]",children:w.jsx("canvas",{ref:m,className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none"})})},k0=96,V0=20,PN=2;function LN({skills:r}){const[e,n]=K.useState(0),s=K.useRef(0),o=K.useRef(null);return K.useEffect(()=>{if(!r.length)return;const u=()=>{s.current+=PN;const f=r.length*k0;s.current>=f&&(s.current%=f),n(s.current),o.current=setTimeout(u,V0)};return o.current=setTimeout(u,V0),()=>clearTimeout(o.current)},[r]),w.jsx("div",{className:"relative w-full overflow-hidden h-[100px]",children:w.jsx("div",{className:"flex items-center absolute left-0 top-0 h-full",style:{transform:`translateX(-${e}px)`,width:r.length?`${r.length*2*k0}px`:"100%"},children:[...r,...r].map((u,f)=>w.jsxs("div",{className:"flex flex-col items-center justify-center mx-2 whitespace-nowrap",children:[w.jsx(xb,{icon:`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${u.icon}/${u.icon}-original.svg`,name:u.title,className:"!w-12 !h-12"}),w.jsx("span",{className:"text-xs mt-1",children:u.title})]},f))})})}function UN({profile:r}){var e,n;return w.jsxs("div",{className:"flex md:flex-row flex-col",children:[w.jsxs(qi,{className:"flex-1/3",children:[w.jsx("img",{className:"rounded-xs",src:"https://static.vecteezy.com/system/resources/thumbnails/036/594/092/small_2x/man-empty-avatar-photo-placeholder-for-social-networks-resumes-forums-and-dating-sites-male-and-female-no-photo-images-for-unfilled-user-profile-free-vector.jpg"}),w.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[w.jsxs("div",{className:"flex flex-row items-center gap-1",children:[w.jsx(D0,{className:"flex-1/8"}),w.jsx("span",{className:"flex-7/8 text-sm capitalize",children:((e=r==null?void 0:r.socials)==null?void 0:e.email)||"loading..."})]}),w.jsxs("div",{className:"flex flex-row items-center gap-1",children:[w.jsx(Ob,{className:"flex-1/8"}),w.jsx("span",{className:"flex-7/8 text-sm capitalize",children:((n=r==null?void 0:r.socials)==null?void 0:n.phone)||"loading..."})]}),w.jsxs("div",{className:"flex flex-row items-center gap-1",children:[w.jsx(DN,{className:"flex-1/8"}),w.jsx("span",{className:"flex-7/8 text-sm capitalize",children:(r==null?void 0:r.availability)||"loading..."})]}),w.jsxs("div",{className:"flex flex-row items-center gap-1",children:[w.jsx(xN,{className:"flex-1/8"}),w.jsx("span",{className:"flex-7/8 text-sm capitalize",children:(r==null?void 0:r.location)||"loading..."})]}),w.jsxs("div",{className:"flex flex-row items-center gap-1",children:[w.jsx(MN,{className:"flex-1/8"}),w.jsxs("span",{className:"flex-7/8 text-sm capitalize",children:[ON()," Years Old"]})]})]})]}),w.jsx("div",{className:"flex flex-col flex-2/3",children:w.jsxs(qi,{className:"flex flex-col flex-6/7",children:[w.jsxs("div",{className:"flex flex-row justify-between",children:[w.jsx("div",{className:"flex flex-row items-center gap-1",children:w.jsx("span",{className:"font-black md:!text-4xl text-lg",children:"YGI MARTIN B. SANTOS"})}),w.jsxs("div",{className:"flex flex-row md:items-center items-start md:gap-2 gap-0.5",children:[w.jsx(Vr,{className:"md:text-2xl text-xs",icon:w.jsx(D0,{}),onclick:()=>{var s;return window.open((s=r==null?void 0:r.socials)!=null&&s.email?`mailto:${r.socials.email}`:"#","_blank")}}),w.jsx(Vr,{className:"md:text-2xl text-xs",icon:w.jsx(IN,{}),onclick:()=>{var s;return window.open(((s=r==null?void 0:r.socials)==null?void 0:s.linkedin)||"#","_blank")}}),w.jsx(Vr,{className:"md:text-2xl text-xs",icon:w.jsx(EN,{}),onclick:()=>{var s;return window.open(((s=r==null?void 0:r.socials)==null?void 0:s.github)||"#","_blank")}})]})]}),w.jsx("div",{className:"mt-2 text-justify",children:w.jsx("span",{className:"text-xl font-semibold opacity-60",children:(r==null?void 0:r.description)||"loading..."})})]})})]})}function jN({value:r,className:e}){return w.jsx("div",{className:`${e} pixelated-slider`,children:w.jsx("div",{className:"pixelated-slider-fill",style:{width:`${r}%`}})})}function zN(){const[r,e]=K.useState(),[n,s]=K.useState([]);return K.useEffect(()=>{(async()=>{const u=JSON.parse(await Cb());e(u);const f=JSON.parse(await Ib());console.log(f),s(f)})()},[]),w.jsxs("div",{className:"flex flex-row justify-center min-h-screen overflow",children:[w.jsx(VN,{}),w.jsx(kN,{}),w.jsxs("div",{className:"relative flex flex-col gap-2 p-2 md:w-[80vw] w-[90vw]",children:[w.jsxs("section",{id:"profile",children:[w.jsx(UN,{profile:r}),w.jsxs("div",{className:"flex md:flex-row flex-col flex-1/7",children:[w.jsxs(qi,{className:"flex md:flex-row flex-col gap-2 items-center justify-around flex-3/4",children:[w.jsx("span",{className:"font-black text-4xl",children:"SOCIALS"}),w.jsxs("div",{className:"flex md:flex-row flex-col gap-2",children:[w.jsxs("div",{className:"flex flex-row gap-2",children:[w.jsx(Vr,{icon:w.jsx(_N,{size:32}),onclick:null}),w.jsx(Vr,{icon:w.jsx(NN,{size:32}),onclick:null})]}),w.jsxs("div",{className:"flex flex-row gap-2",children:[w.jsx(Vr,{icon:w.jsx(TN,{size:32}),onclick:null}),w.jsx(Vr,{icon:w.jsx(Ob,{size:32}),onclick:null})]})]})]}),w.jsx(hN,{text:"DOWNLOAD CV",onclick:null,className:"flex-1/4",classText:"font-bold text-xl"})]})]}),w.jsxs("section",{id:"skills",className:"mt-16",children:[w.jsx("div",{className:"w-fit z-1 -mb-1 ml-6 gooey-label bg-brown-dark !pt-6",children:w.jsx("span",{className:"text-center solid-shadow-title text-beige text-xl font-black",children:"WHAT I WORK WITH"})}),w.jsx(qi,{className:"",children:w.jsx(LN,{skills:n})}),w.jsx("div",{className:"grid md:grid-cols-3 grid-cols-1 md:grid-rows-2 grid-rows-6 gap-2 mt-6",children:Object.entries(n.reduce((o,u)=>(o[u.category]=o[u.category]||[],o[u.category].push(u),o),{})).sort(([o,u],[f,m])=>{if(o==="Others")return 1;if(f==="Others")return-1;const p=Math.max(...u.map(E=>E.proficiency));return Math.max(...m.map(E=>E.proficiency))-p}).map(([o,u])=>w.jsxs(qi,{children:[w.jsx("span",{className:"font-bold md:text-xl text-lg",children:o.toUpperCase()}),w.jsx("div",{className:"flex flex-col gap-4 mt-2",children:u.map(f=>w.jsxs("div",{className:"flex flex-row items-center gap-4",children:[w.jsx("img",{src:`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${f.icon}/${f.icon}-original.svg`,alt:f.title,className:"h-6 flex-1/10"}),w.jsx("span",{className:"flex-5/10 font-medium",children:f.title}),w.jsxs("span",{className:"flex-1/10 font-medium",children:[f.proficiency,"%"]}),w.jsx(jN,{value:f.proficiency,className:"flex-4/10 w-full"})]},f.id))})]},o))})]}),w.jsx(qi,{children:w.jsxs("section",{id:"awards",children:[w.jsx("h2",{children:"Awards & Certificates"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"})]})}),w.jsx(qi,{children:w.jsxs("section",{id:"projects",children:[w.jsx("h2",{children:"Projects"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"})]})}),w.jsx(qi,{children:w.jsxs("section",{id:"experiences",children:[w.jsx("h2",{children:"Experiences"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"})]})}),w.jsx(qi,{children:w.jsxs("section",{id:"testimonials",children:[w.jsx("h2",{children:"Testimonials"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"}),w.jsx("h1",{className:"h-[74px]",children:"TEST CONTENT"})]})})]})]})}function BN(){return w.jsx(Iw,{children:w.jsxs(rw,{children:[w.jsx(lm,{path:"/",element:w.jsx(zN,{})}),w.jsx(lm,{path:"/admin",element:w.jsx(rN,{})})]})})}d2.createRoot(document.getElementById("root")).render(w.jsx(K.StrictMode,{children:w.jsx(BN,{})}));
